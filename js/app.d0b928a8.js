(function(){"use strict";var t={3284:function(t,n,e){var o=e(7764),a=e(4108);const i={class:"main"};function s(t,n,e,o,s,c){const r=(0,a.E1)("menu-component"),l=(0,a.E1)("tools-component"),d=(0,a.E1)("canvas-component");return(0,a.Wz)(),(0,a.An)("div",i,[(0,a.K2)(r),(0,a.K2)(l),(0,a.K2)(d,{ref:"upload"},null,512)])}var c="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAACXBIWXMAAAsTAAALEwEAmpwYAAACoUlEQVR4nO2ZS2vUUBiGH6dipQoqeEEFLxXd2c4IIhRFLS4UXLjwF/gTFLQK7nXtRiiiC0tHuxFr9S8UEW9U0IJtRa2Xemut4gWNHHgDH8Okk5QhOZE8MJDLSfI9k5PzfcmBglTYBwwAk8Av4BXQD3SRExYBvUAwx+8CsBDPJW4q2K/ASWCd9q0HTgPfjIyXtAKDCvI9UI5otwv4rnZdPkrcUnBTwPYG7c+qbR+eSQwZic4Yx2xW+5d4KPEhpoSjBfgL/CAjVgGH9Y8uBm4biXKC82zM8o7sBz4rgJ/Ag3lKOM7oWJdXUmUvMKuLPzT5YBqoJDxX2ZxrDymyWznBXfgSUAJ6tP4HOJbgXB0amt2xF0mRpcC7GomQpDIdGtUCJU2XPFNjhy78JuLCcWU6jcRg2hKOJcBrBTAQUR81kilrQAiUNN2QnQk7gU/zlKn4IuHYBEyYkep6TJkK8FHbhnyQGFcwLm980fK1GDLTWr7jk8QwsEyVayhTbSATSN5VAF5JhFiZftVNtfSYCqAdDyXqyfTVkSkBj7X/CJ5K1JO5amRKSp6B9q/BYwm0/755HqpKdKHErApN7yWG1X7C5JlJ877uCs3cSIzreJc0wwrgrQrN3EmEtKmmcmVNqmwAniuoe8CKBBIvshxWLYUExZ1oHkV3ouhOzeO/6E5rgbEmJbvMWA48UlB38yqBXkVdUKPAanLYnRyHzOfM9rzeCczU13FyLNFi3trcw55LCccBBfeMaFZqAPBWotV88j8V0WYL8FRtxnyUWABcUYAjesmxuCniE8CMmeOYq+tlxnkzLbxV29r0fWm0ZrK+GiOvZMaMgrys9W3Ak5qZpRvAQTznKPDbyEyZLtQd8TUwFzKBhFKfUGmmjMsj5zQAFBSQnH9bvzXiZD9LvQAAAABJRU5ErkJggg==";const r={class:"tools"},l=(0,a.QD)("img",{class:"tools__icon",src:c},null,-1),d=[l];function u(t,n,e,o,i,s){return(0,a.Wz)(),(0,a.An)("aside",r,[(0,a.QD)("button",{class:"tools__btn",onClick:n[0]||(n[0]=(...t)=>s.togglePipette&&s.togglePipette(...t))},d)])}var h={methods:{togglePipette(){this.$parent.$refs.upload.togglePipette()}}},g=e(4100);const v=(0,g.c)(h,[["render",u]]);var p=v,f=e(9096);const m={class:"drawing-space"},A=["width","height"],C={key:0,class:"drawing-space__info",id:"coordinates"},k={key:0,class:"color-info"};function W(t,n,e,o,i,s){return(0,a.Wz)(),(0,a.An)("div",m,[(0,a.QD)("canvas",{class:"drawing-space__canvas",ref:"canvas",width:i.canvasWidth,height:i.canvasHeight,onMousemove:n[0]||(n[0]=(...t)=>s.handleMouseMove&&s.handleMouseMove(...t)),onClick:n[1]||(n[1]=(...t)=>s.handleMouseClick&&s.handleMouseClick(...t))},null,40,A),i.imageLoaded?((0,a.Wz)(),(0,a.An)("div",C,[i.pipetteActive?((0,a.Wz)(),(0,a.An)("div",k,[(0,a.QD)("p",null,"Цвет: "+(0,f.WA)(i.colorInfo),1),(0,a.QD)("div",{class:"color",style:(0,f.MN)({backgroundColor:i.colorInfo})},null,4)])):(0,a.g1)("",!0),(0,a.QD)("p",null,"Координаты: "+(0,f.WA)(i.mouseCoordinates),1),(0,a.QD)("p",null,"Исходные размеры изображения: "+(0,f.WA)(i.originalImageWidth)+" x "+(0,f.WA)(i.originalImageHeight)+" px",1)])):(0,a.g1)("",!0)])}var I={data(){return{canvasWidth:800,canvasHeight:600,imageLoaded:!1,colorInfo:"",mouseCoordinates:"",originalImageWidth:0,originalImageHeight:0,clickInfoFixed:!1,pipetteActive:!1}},mounted(){this.canvas=this.$refs.canvas,this.canvasContext=this.canvas.getContext("2d"),this.canvas.addEventListener("mousemove",this.handleMouseMove),this.canvas.addEventListener("click",this.handleMouseClick)},methods:{handleImageUpload(t){const n=t.target.files[0];if(n){const t=new FileReader;t.onload=t=>{const n=new Image;n.src=t.target.result,n.onload=()=>{this.originalImageWidth=n.naturalWidth,this.originalImageHeight=n.naturalHeight,this.$refs.canvas.getContext("2d").clearRect(0,0,this.canvasWidth,this.canvasHeight),this.$refs.canvas.getContext("2d").drawImage(n,this.canvasWidth/2-n.width/2,this.canvasHeight/2-n.height/2),this.imageLoaded=!0}},t.readAsDataURL(n)}},handleMouseMove(t){if(this.imageLoaded&&!this.clickInfoFixed){const n=this.canvas.getBoundingClientRect(),e=t.clientX-n.left,o=t.clientY-n.top;this.mouseCoordinates=`X: ${Math.round(e)+1}, Y: ${Math.round(o)+1}`;const a=this.canvasContext.getImageData(Math.round(e),Math.round(o),1,1).data;this.colorInfo=`rgb(${a[0]}, ${a[1]}, ${a[2]})`}},handleMouseClick(t){const n=this.canvas.getBoundingClientRect(),e=t.clientX-n.left,o=t.clientY-n.top;if(this.imageLoaded){this.mouseCoordinates=`X: ${Math.round(e)+1}, Y: ${Math.round(o)+1}`;const t=this.canvasContext.getImageData(Math.round(e),Math.round(o),1,1).data;this.colorInfo=`rgb(${t[0]}, ${t[1]}, ${t[2]})`,this.clickInfoFixed=!0}},togglePipette(){this.pipetteActive=!this.pipetteActive}}};const M=(0,g.c)(I,[["render",W]]);var w=M;const U={class:"menu"},x=(0,a.QD)("p",{class:"menu__text"},"или",-1),B=(0,a.QD)("input",{class:"menu__input",type:"text",disabled:"",placeholder:"Вставьте ссылку на изображение"},null,-1);function b(t,n,e,o,i,s){return(0,a.Wz)(),(0,a.An)("div",U,[(0,a.QD)("button",{class:"menu__btn",onClick:n[0]||(n[0]=(...t)=>s.handleImageUploadClick&&s.handleImageUploadClick(...t))},"Загрузить изображение"),x,B])}var y={methods:{handleImageUploadClick(){const t=document.createElement("input");t.type="file",t.accept="image/*",t.addEventListener("change",this.$parent.$refs.upload.handleImageUpload),t.click()}}};const E=(0,g.c)(y,[["render",b]]);var Q=E,L={name:"App",components:{MenuComponent:Q,ToolsComponent:p,CanvasComponent:w}};const D=(0,g.c)(L,[["render",s]]);var K=D;(0,o.W0)(K).mount("#app")}},n={};function e(o){var a=n[o];if(void 0!==a)return a.exports;var i=n[o]={exports:{}};return t[o].call(i.exports,i,i.exports,e),i.exports}e.m=t,function(){var t=[];e.O=function(n,o,a,i){if(!o){var s=1/0;for(d=0;d<t.length;d++){o=t[d][0],a=t[d][1],i=t[d][2];for(var c=!0,r=0;r<o.length;r++)(!1&i||s>=i)&&Object.keys(e.O).every((function(t){return e.O[t](o[r])}))?o.splice(r--,1):(c=!1,i<s&&(s=i));if(c){t.splice(d--,1);var l=a();void 0!==l&&(n=l)}}return n}i=i||0;for(var d=t.length;d>0&&t[d-1][2]>i;d--)t[d]=t[d-1];t[d]=[o,a,i]}}(),function(){e.n=function(t){var n=t&&t.__esModule?function(){return t["default"]}:function(){return t};return e.d(n,{a:n}),n}}(),function(){e.d=function(t,n){for(var o in n)e.o(n,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:n[o]})}}(),function(){e.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)}}(),function(){var t={524:0};e.O.j=function(n){return 0===t[n]};var n=function(n,o){var a,i,s=o[0],c=o[1],r=o[2],l=0;if(s.some((function(n){return 0!==t[n]}))){for(a in c)e.o(c,a)&&(e.m[a]=c[a]);if(r)var d=r(e)}for(n&&n(o);l<s.length;l++)i=s[l],e.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return e.O(d)},o=self["webpackChunkonline_photoshop"]=self["webpackChunkonline_photoshop"]||[];o.forEach(n.bind(null,0)),o.push=n.bind(null,o.push.bind(o))}();var o=e.O(void 0,[999],(function(){return e(3284)}));o=e.O(o)})();
//# sourceMappingURL=app.d0b928a8.js.map