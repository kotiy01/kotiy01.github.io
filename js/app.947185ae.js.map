{"version":3,"file":"js/app.947185ae.js","mappings":"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","sources":["webpack://photoshop/./src/App.vue","webpack://photoshop/./src/components/MenuComponent.vue","webpack://photoshop/./src/components/MenuComponent.vue?7a66","webpack://photoshop/./src/components/CanvasComponent.vue","webpack://photoshop/./src/components/CanvasComponent.vue?d9ba","webpack://photoshop/./src/components/ResizeComponent.vue","webpack://photoshop/./src/components/ResizeComponent.vue?b6de","webpack://photoshop/./src/components/LayersComponent.vue","webpack://photoshop/./src/components/LayersComponent.vue?f603","webpack://photoshop/./src/App.vue?7ccd","webpack://photoshop/./src/main.js","webpack://photoshop/webpack/bootstrap","webpack://photoshop/webpack/runtime/chunk loaded","webpack://photoshop/webpack/runtime/compat get default export","webpack://photoshop/webpack/runtime/define property getters","webpack://photoshop/webpack/runtime/global","webpack://photoshop/webpack/runtime/hasOwnProperty shorthand","webpack://photoshop/webpack/runtime/make namespace object","webpack://photoshop/webpack/runtime/jsonp chunk loading","webpack://photoshop/webpack/startup"],"sourcesContent":["<template>\n  <v-app>\n    <MenuComponent\n      :scale-percent=\"scalePercent\"\n      :active-tool=\"activeTool\"\n      :can-add-layer=\"layers.length < 2\"\n      @image-loaded=\"onLayerAdded\"\n      @scale-changed=\"onScaleChanged\"\n      @open-resize=\"showResize = true\"\n      @tool-changed=\"activeTool = $event\"\n      @add-color-layer=\"onColorLayerAdded\"\n    />\n    <ResizeComponent\n      v-model=\"showResize\"\n      :width=\"layers[0]?.width || 0\"\n      :height=\"layers[0]?.height || 0\"\n      @confirm=\"applyResize\"\n    />\n\n    <CanvasComponent\n      ref=\"canvas\"\n      :layers=\"layers\"\n      :image-src=\"imageSrc\"\n      :scale-percent=\"scalePercent\"\n      :active-tool=\"activeTool\"\n      @pick-color=\"onPickColor\"\n    />\n\n    <LayersComponent\n      :layers=\"layers\"\n      :active-index=\"activeLayerIndex\"\n      @update-active=\"activeLayerIndex = $event\"\n      @toggle-visibility=\"toggleVisibility\"\n      @toggle-alpha=\"toggleAlpha\"\n      @remove-layer=\"removeLayer\"\n      @remove-alpha=\"removeAlpha\"\n      @update-opacity=\"updateOpacity\"\n      @update-blend=\"updateBlend\"\n    />\n\n    <v-footer app height=\"32\" color=\"grey-darken-4\" class=\"white--text px-4 align-center justify-center\">\n      {{ statusText }}\n    </v-footer>\n\n    <v-footer\n      v-if=\"activeTool === 'eyedropper'\"\n      app\n      height=\"32\"\n      color=\"grey-darken-4\"\n      class=\"white--text px-2 d-flex align-center justify-space-between eyedropper-footer\"\n    >\n      <div v-if=\"colorA\" class=\"d-flex align-center overflow-hidden flex-grow-1\">\n        <div class=\"swatch-box\" :style=\"{ background: rgbString(colorA) }\" title=\"Цвет A\"></div>\n        \n        <span class=\"coord-label mr-3\">\n          <strong>Цвет 1</strong> ({{ colorA.x }}, {{ colorA.y }})\n        </span>\n\n        <div class=\"d-flex space-group\">\n          <template v-for=\"space in ['RGB', 'XYZ', 'Lab', 'OKLch']\" :key=\"space\">\n            <v-tooltip location=\"top\" offset=\"10\">\n              <template #activator=\"{ props }\">\n                <span v-bind=\"props\" class=\"space-val\">\n                  <span class=\"space-tag\">{{ space }}</span>\n                  {{ getSpaceValues(space, colorA) }}\n                </span>\n              </template>\n              <div class=\"text-caption\">\n                <strong>{{ spaceInfo[space].title }}</strong><br>\n                {{ spaceInfo[space].axes }}\n              </div>\n            </v-tooltip>\n          </template>\n        </div>\n      </div>\n\n      <div v-if=\"colorA && colorB\">\n        <v-chip size=\"small\" color=\"#008FFF\">\n          Контраст: {{ contrastValue }}:1\n        </v-chip>\n      </div>\n\n      <div v-if=\"colorB\" class=\"d-flex align-center overflow-hidden flex-grow-1 justify-end\">\n        <div class=\"d-flex space-group\">\n          <template v-for=\"space in ['RGB', 'XYZ', 'Lab', 'OKLch']\" :key=\"space\">\n            <v-tooltip location=\"top\" offset=\"10\">\n              <template #activator=\"{ props }\">\n                <span v-bind=\"props\" class=\"space-val\">\n                  <span class=\"space-tag\">{{ space }}</span>\n                  {{ getSpaceValues(space, colorB) }}\n                </span>\n              </template>\n              <div class=\"text-caption\">\n                <strong>{{ spaceInfo[space].title }}</strong><br>\n                {{ spaceInfo[space].axes }}\n              </div>\n            </v-tooltip>\n          </template>\n        </div>\n\n        <span class=\"coord-label ml-3\">\n          ({{ colorB.x }}, {{ colorB.y }}) <strong>Цвет 2</strong>\n        </span>\n\n        <div class=\"swatch-box ml-2\" :style=\"{ background: rgbString(colorB) }\" title=\"Цвет B\"></div>\n      </div>\n    </v-footer>\n  </v-app>\n</template>\n\n<script>\nimport MenuComponent from \"./components/MenuComponent.vue\";\nimport CanvasComponent from \"./components/CanvasComponent.vue\";\nimport ResizeComponent from \"./components/ResizeComponent.vue\";\nimport LayersComponent from \"./components/LayersComponent.vue\";\n\nexport default {\n  name: \"App\",\n  components: { MenuComponent, CanvasComponent, ResizeComponent, LayersComponent },\n\n  data() {\n    return {\n      imageSrc: null,\n      scalePercent: 100,\n      //statusText: \"Загрузите изображение\",\n      showResize: false,\n      activeTool: \"hand\",\n      colorA: null,\n      colorB: null,\n      spaceInfo: {\n        RGB: { title: \"RGB\", axes: \"Red, Green, Blue: 0-255.\" },\n        XYZ: { title: \"XYZ\", axes: \"X: ~0-95, Y (Яркость): 0-100, Z: ~0-108.\" },\n        Lab: { title: \"Lab\", axes: \"L (Светлота): 0-100, a: (Зел/Крас), b: (Син/Желт).\" },\n        OKLch: { title: \"OKLch\", axes: \"L: 0-1, C (Насыщенность): 0-0.4, h (Тон): 0-360°.\" }\n      },\n      layers: [],\n      activeLayerIndex: 0,\n    };\n  },\n\n  computed: {\n    contrastValue() {\n      if (!this.colorA || !this.colorB) return \"0\";\n      return this.calculateContrast(this.colorA, this.colorB).toFixed(2);\n    },\n\n    statusText() {\n      if (this.layers.length === 0) return \"Загрузите изображение\";\n      const active = this.layers[this.activeLayerIndex];\n      return `Слой: ${active?.name}   |   Размер: ${active?.width}x${active?.height} px   |   Глубина: ${active?.depth} бит`;\n    }\n  },\n\n  mounted() {\n    window.addEventListener(\"keydown\", this.handleGlobalKeyDown);\n  },\n\n  beforeUnmount() {\n    window.removeEventListener(\"keydown\", this.handleGlobalKeyDown);\n  },\n\n  methods: {\n    onLayerAdded(data) {\n      if (this.layers.length >= 2) return;\n      \n      const newLayer = {\n        id: Date.now(),\n        name: this.layers.length === 0 ? \"Слой 1\" : \"Слой 2\",\n        pixels: data.pixels || this.extractPixels(data.src, data.width, data.height),\n        width: data.width,\n        height: data.height,\n        depth: data.depth,\n        opacity: 100,\n        visible: true,\n        blendMode: 'normal',\n        alphaVisible: true,\n        hasAlpha: true,\n        preview: \"\"\n      };\n      \n      this.layers.push(newLayer);\n      this.activeLayerIndex = this.layers.length - 1;\n    },\n    onColorLayerAdded(color) {\n      if (this.layers.length === 0) return;\n      const base = this.layers[0];\n      const size = base.width * base.height * 4;\n      const pixels = new Uint8ClampedArray(size);\n      \n      for (let i = 0; i < size; i += 4) {\n        pixels[i] = color.r;\n        pixels[i+1] = color.g;\n        pixels[i+2] = color.b;\n        pixels[i+3] = 255;\n      }\n      \n      this.onLayerAdded({ pixels, width: base.width, height: base.height });\n    },\n    extractPixels(src, w, h) {\n      const canvas = document.createElement('canvas');\n      canvas.width = w; canvas.height = h;\n      const ctx = canvas.getContext('2d');\n      const img = new Image();\n      img.src = src;\n      ctx.drawImage(img, 0, 0);\n      return ctx.getImageData(0, 0, w, h).data;\n    },\n\n    toggleVisibility(idx) { this.layers[idx].visible = !this.layers[idx].visible; },\n    toggleAlpha(idx) { this.layers[idx].alphaVisible = !this.layers[idx].alphaVisible; },\n    removeLayer(idx) { \n      this.layers.splice(idx, 1);\n      this.activeLayerIndex = Math.max(0, this.layers.length - 1);\n    },\n    removeAlpha(idx) {\n      const layer = this.layers[idx];\n      for (let i = 3; i < layer.pixels.length; i += 4) layer.pixels[i] = 255;\n      layer.hasAlpha = false;\n    },\n    updateOpacity({idx, val}) { this.layers[idx].opacity = val; },\n    updateBlend({idx, mode}) { this.layers[idx].blendMode = mode; },\n\n    handleGlobalKeyDown(e) {\n      const key = e.key.toLowerCase();\n      if (key === 'h') this.activeTool = 'hand';\n      if (key === 'i') this.activeTool = 'eyedropper';\n    },\n\n    onImageLoaded(data) {\n      this.imageSrc = data;\n      //this.statusText = `Размер: ${data.width}×${data.height} px | Глубина: ${data.depth} бит`;\n    },\n\n    onScaleChanged(value) {\n      this.scalePercent = value;\n    },\n\n    applyResize(data) {\n      if (this.layers.length === 0) return;\n      this.layers = this.layers.map(layer => {\n        // вызываем метод ресайза из канваса\n        const resizedPixels = this.$refs.canvas.runResizeAlgo(\n          layer.pixels,\n          layer.width,\n          layer.height,\n          data.width,\n          data.height,\n          data.interpolation\n        );\n\n        return {\n          ...layer,\n          pixels: resizedPixels,\n          width: data.width,\n          height: data.height\n        };\n      });\n\n      this.$nextTick(() => {\n        this.$refs.canvas.fitToScreen();\n      });\n    },\n\n    onPickColor({ color, slot }) {\n      if (slot === \"A\") {\n        this.colorA = color;\n      } else {\n        this.colorB = color;\n      }\n    },\n\n    calculateContrast(a, b) {\n      if (!a || !b) return 0;\n      \n      const getL = (c) => {\n        let r = c.r / 255, g = c.g / 255, b = c.b / 255;\n        r = r <= 0.03928 ? r / 12.92 : Math.pow((r + 0.055) / 1.055, 2.4);\n        g = g <= 0.03928 ? g / 12.92 : Math.pow((g + 0.055) / 1.055, 2.4);\n        b = b <= 0.03928 ? b / 12.92 : Math.pow((b + 0.055) / 1.055, 2.4);\n        return 0.2126 * r + 0.7152 * g + 0.0722 * b;\n      };\n\n      const l1 = getL(a);\n      const l2 = getL(b);\n      \n      return (Math.max(l1, l2) + 0.05) / (Math.min(l1, l2) + 0.05);\n    },\n\n    rgbString(c) { return `rgb(${c.r}, ${c.g}, ${c.b})`; },\n\n    getSpaceValues(space, color) {\n      const { r, g, b } = color;\n      // нормализация sRGB\n      let rn = r / 255, gn = g / 255, bn = b / 255;\n      // linear RGB для XYZ\n      const toLin = (v) => v <= 0.04045 ? v / 12.92 : Math.pow((v + 0.055) / 1.055, 2.4);\n      const rl = toLin(rn), gl = toLin(gn), bl = toLin(bn);\n\n      if (space === 'RGB') return `${r},${g},${b}`;\n\n      // XYZ\n      const x = (rl * 0.4124 + gl * 0.3576 + bl * 0.1805) * 100;\n      const y = (rl * 0.2126 + gl * 0.7152 + bl * 0.0722) * 100;\n      const z = (rl * 0.0193 + gl * 0.1192 + bl * 0.9505) * 100;\n      if (space === 'XYZ') return `${x.toFixed(0)},${y.toFixed(0)},${z.toFixed(0)}`;\n\n      // Lab\n      const f = (t) => t > 0.008856 ? Math.pow(t, 1/3) : (7.787 * t) + (16/116);\n      const L = (116 * f(y / 100)) - 16;\n      const a = 500 * (f(x / 95.047) - f(y / 100));\n      const b_coord = 200 * (f(y / 100) - f(z / 108.883));\n      if (space === 'Lab') return `${L.toFixed(0)},${a.toFixed(0)},${b_coord.toFixed(0)}`;\n\n      // OKLch\n      const chroma = Math.sqrt(a * a + b_coord * b_coord);\n      let hue = Math.atan2(b_coord, a) * (180 / Math.PI);\n      if (hue < 0) hue += 360;\n      if (space === 'OKLch') return `${(L/100).toFixed(2)},${(chroma/100).toFixed(2)},${hue.toFixed(0)}°`;\n      \n      return \"\";\n    },\n  }\n};\n</script>\n\n<style scoped>\n.swatch-box {\n  width: 22px;\n  height: 22px;\n  min-width: 18px;\n  border: 2px solid #fff;\n  border-radius: 4px;\n  box-shadow: 0 0 4px rgba(0,0,0,0.5);\n  margin-right: 8px;\n}\n\n.coord-label {\n  font-size: 11px;\n  color: #eee;\n  white-space: nowrap;\n  padding-right: 1px 6px;\n} \n\n.space-val {\n  padding: 1px 4px;\n}\n\n.space-tag {\n  color: #008FFF;\n  font-weight: bold;\n  font-size: 12px;\n  margin-right: 3px;\n  text-transform: uppercase;\n}\n\n.v-chip--size-x-small {\n  padding: 0 6px;\n  height: 18px;\n}\n</style>","<template>\r\n  <v-app-bar app color=\"primary\">\r\n    <v-toolbar-title>Онлайн Фотошоп</v-toolbar-title>\r\n\r\n    <v-btn :disabled=\"!canAddLayer\" @click=\"triggerFileInput\" class=\"mr-4\">\r\n      {{ layersCount === 0 ? 'Загрузить фото' : 'Добавить слой' }}\r\n    </v-btn>\r\n\r\n    <v-menu v-if=\"layersCount > 0 && canAddLayer\">\r\n      <template v-slot:activator=\"{ props }\">\r\n        <v-btn v-bind=\"props\" class=\"ml-2\">Заливка цветом</v-btn>\r\n      </template>\r\n      <v-color-picker @update:model-value=\"onColorSelect\"></v-color-picker>\r\n    </v-menu>\r\n\r\n    <v-tooltip text=\"Рука (H)\" location=\"bottom\">\r\n      <template #activator=\"{ props }\">\r\n        <v-btn\r\n          v-bind=\"props\"\r\n          icon\r\n          :color=\"activeTool === 'hand' ? 'white' : 'white-darken-2'\"\r\n          :variant=\"activeTool === 'hand' ? 'tonal' : 'text'\"\r\n          @click=\"$emit('tool-changed', 'hand')\"\r\n        >\r\n          <v-img src=\"https://cdn-icons-png.flaticon.com/512/658/658022.png\" width=\"28px\"></v-img>\r\n        </v-btn>\r\n      </template>\r\n    </v-tooltip>\r\n\r\n    <v-tooltip text=\"Пипетка (I)\" location=\"bottom\">\r\n      <template #activator=\"{ props }\">\r\n        <v-btn\r\n          v-bind=\"props\"\r\n          icon\r\n          :color=\"activeTool === 'eyedropper' ? 'white' : 'white-darken-2'\"\r\n          :variant=\"activeTool === 'eyedropper' ? 'tonal' : 'text'\"\r\n          @click=\"$emit('tool-changed', 'eyedropper')\"\r\n        >\r\n          <v-img src=\"https://cdn-icons-png.flaticon.com/512/4347/4347420.png\" width=\"28px\"></v-img>\r\n        </v-btn>\r\n      </template>\r\n    </v-tooltip>\r\n\r\n    <v-btn @click=\"triggerFileInput\" class=\"mr-4\">\r\n      Загрузить изображение\r\n    </v-btn>\r\n\r\n    <v-btn class=\"ml-2\" @click=\"$emit('open-resize')\">\r\n      Изменить размер\r\n    </v-btn>\r\n\r\n    <v-select\r\n      :items=\"scales\"\r\n      :model-value=\"currentScale\"\r\n      label=\"Масштаб\"\r\n      density=\"compact\"\r\n      style=\"max-width: 120px\"\r\n      @update:modelValue=\"onScaleChange\"\r\n    />\r\n\r\n    <input\r\n      ref=\"fileInput\"\r\n      type=\"file\"\r\n      accept=\".jpg,.jpeg,.png,.gb7\"\r\n      hidden\r\n      @change=\"onFileChange\"\r\n    />\r\n  </v-app-bar>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"MenuComponent\",\r\n\r\n  emits: [\"tool-changed\"],\r\n\r\n  props: [\"scalePercent\", \"activeTool\", \"canAddLayer\", \"layersCount\"],\r\n\r\n  data() {\r\n    return {\r\n      scales: [12, 25, 50, 75, 100, 150, 200, 300],\r\n      currentScale: 100,\r\n      //activeTool: \"hand\"\r\n    };\r\n  },\r\n\r\n  mounted() {\r\n    window.addEventListener(\"keydown\", e => {\r\n      if (e.key.toLowerCase() === \"h\") this.setTool(\"hand\");\r\n      if (e.key.toLowerCase() === \"i\") this.setTool(\"eyedropper\");\r\n    });\r\n  },\r\n\r\n  beforeUnmount() {\r\n    window.removeEventListener(\"keydown\", this.onKeyDown);\r\n  },\r\n\r\n  watch: {\r\n    scalePercent(val) {\r\n      this.currentScale = val;\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    onColorSelect(color) {\r\n      this.$emit('add-color-layer', color.rgba);\r\n    },\r\n\r\n    setTool(tool) {\r\n      this.$emit(\"tool-changed\", tool);\r\n    },\r\n\r\n    onKeyDown(e) {\r\n      const key = e.key.toLowerCase();\r\n\r\n      if (key === \"h\") {\r\n        this.setTool(\"hand\");\r\n      }\r\n\r\n      if (key === \"i\") {\r\n        this.setTool(\"eyedropper\");\r\n      }\r\n    },\r\n\r\n    triggerFileInput() {\r\n      this.$refs.fileInput.click();\r\n    },\r\n\r\n    onScaleChange(value) {\r\n      this.currentScale = value;\r\n      this.$emit(\"scale-changed\", Number(value));\r\n    },\r\n\r\n    async onFileChange(event) {\r\n      const file = event.target.files[0];\r\n      if (!file) return;\r\n\r\n      const ext = file.name.split(\".\").pop().toLowerCase();\r\n\r\n      if ([\"jpg\", \"jpeg\", \"png\"].includes(ext)) {\r\n        const reader = new FileReader();\r\n        reader.onload = e => {\r\n          const img = new Image();\r\n          img.onload = () => {\r\n            this.$emit(\"image-loaded\", {\r\n              type: \"image\",\r\n              src: e.target.result,\r\n              width: img.width,\r\n              height: img.height,\r\n              depth: screen.colorDepth\r\n            });\r\n          };\r\n          img.src = e.target.result;\r\n        };\r\n        reader.readAsDataURL(file);\r\n      }\r\n\r\n      else if (ext === \"gb7\") {\r\n        const buffer = await file.arrayBuffer();\r\n        const data = new DataView(buffer);\r\n\r\n        // проверка сигнатуры GB7\r\n        if (\r\n          data.getUint8(0) !== 0x47 || // G\r\n          data.getUint8(1) !== 0x42 || // B\r\n          data.getUint8(2) !== 0x37 || // 7\r\n          data.getUint8(3) !== 0x1d    // управляющий символ-разделитель групп\r\n        ) {\r\n          alert(\"Неверный формат GB7\");\r\n          return;\r\n        }\r\n\r\n        // заголовок\r\n        // const version = data.getUint8(4);     // версия\r\n        const flag = data.getUint8(5);           // флаг\r\n        const width = data.getUint16(6, false);  // ширина\r\n        const height = data.getUint16(8, false); // высота\r\n        // резерв 10-11\r\n        const pixels = new Uint8ClampedArray(width * height * 4); // RGBA\r\n        let ptr = 12; // изображение с/без маски\r\n\r\n        for (let i = 0; i < width * height; i++) {\r\n          const byte = data.getUint8(ptr++);\r\n          const gray = byte & 0x7f;        // 7 бит\r\n          const mask = (byte & 0x80) >> 7; // бит маски\r\n          const v = gray * 2;              // 7 бит растянем до 0–254\r\n\r\n          pixels[i * 4] = v;\r\n          pixels[i * 4 + 1] = v;\r\n          pixels[i * 4 + 2] = v;\r\n          pixels[i * 4 + 3] = flag && mask === 0 ? 0 : 255; // прозрачность\r\n        }\r\n\r\n        this.$emit(\"image-loaded\", {\r\n          type: \"gb7\",\r\n          width,\r\n          height,\r\n          pixels,\r\n          depth: 7\r\n        });\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.tool-btn {\r\n  border: 2px solid transparent;\r\n  border-radius: 8px;\r\n}\r\n\r\n.tool-btn.active {\r\n  border-color: #fff;\r\n}\r\n</style>","import { render } from \"./MenuComponent.vue?vue&type=template&id=5eeee7f4&scoped=true\"\nimport script from \"./MenuComponent.vue?vue&type=script&lang=js\"\nexport * from \"./MenuComponent.vue?vue&type=script&lang=js\"\n\nimport \"./MenuComponent.vue?vue&type=style&index=0&id=5eeee7f4&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-5eeee7f4\"]])\n\nexport default __exports__","<template>\n  <div \n    class=\"canvas-container\"\n    ref=\"container\"\n    @mousedown=\"onMouseDown\"\n    @mousemove=\"onMouseMove\"\n    @mouseup=\"onMouseUp\"\n    @mouseleave=\"onMouseUp\"\n  >\n    <canvas ref=\"canvas\" v-show=\"layers.length > 0\" @click=\"onClick\" :style=\"canvasStyle\"></canvas>\n    <div v-if=\"layers.length === 0\" class=\"text-grey\">Загрузите изображение для начала работы</div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"CanvasComponent\",\n\n  props: {\n    imageSrc: Object,\n    scalePercent: Number,\n    activeTool: String,\n    layers: {\n      type: Array,\n      default: () => []\n    },\n  },\n\n  emits: [\"pick-color\", \"scale-changed\"],\n\n  data() {\n    return {\n      originalPixels: null,\n      originalWidth: 0,\n      originalHeight: 0,\n      scale: 1,\n      ctx: null,\n      imageData: null,\n      colorA: null,\n      colorB: null,\n\n      offsetX: 0,\n      offsetY: 0,\n      isDragging: false,\n      lastMouseX: 0,\n      lastMouseY: 0,\n      viewPadding: 50\n    };\n  },\n\n  computed: {\n    canvasStyle() {\n      return {\n        transform: `translate(${this.offsetX}px, ${this.offsetY}px)`,\n        cursor: this.activeTool === 'hand' \n          ? (this.isDragging ? 'grabbing' : 'grab') \n          : 'crosshair',\n        transition: this.isDragging ? 'none' : 'transform 0.1s ease-out'\n      };\n    }\n  },\n\n  mounted() {\n    window.addEventListener(\"keydown\", this.onKeyDown);\n  },\n\n  beforeUnmount() {\n    window.removeEventListener(\"keydown\", this.onKeyDown);\n  },\n\n  watch: {\n    imageSrc(newVal) {\n      if (!newVal) return;\n\n      if (newVal.type === \"image\") {\n        this.loadStandardImage(newVal.src);\n      } else if (newVal.type === \"gb7\") {\n        this.loadGB7(newVal);\n      }\n    },\n\n    scalePercent(newVal) {\n      this.scale = newVal / 100;\n      this.redraw();\n    },\n\n    layers: {\n      handler(newLayers) {\n        if (newLayers.length > 0) {\n          if (newLayers.length === 1 && this.scale === 1) {\n            this.fitToScreen();\n          } else {\n            this.redraw();\n          }\n        }\n      },\n      deep: true\n    },\n  },\n\n  methods: {\n    loadStandardImage(src) {\n      const img = new Image();\n      img.onload = () => {\n        this.originalWidth = img.width;\n        this.originalHeight = img.height;\n\n        const off = document.createElement(\"canvas\");\n        off.width = img.width;\n        off.height = img.height;\n\n        const ctx = off.getContext(\"2d\");\n        ctx.drawImage(img, 0, 0);\n\n        this.originalPixels = ctx.getImageData(\n          0, 0, img.width, img.height\n        ).data;\n\n        this.fitToScreen();\n      };\n      img.src = src;\n    },\n\n    loadGB7({ width, height, pixels }) {\n      this.originalWidth = width;\n      this.originalHeight = height;\n      this.originalPixels = pixels;\n      this.fitToScreen();\n    },\n\n    resetPosition() {\n      this.offsetX = 0;\n      this.offsetY = 0;\n    },\n\n    constrainOffset(x, y) {\n      const container = this.$refs.container;\n      const canvas = this.$refs.canvas;\n      if (!container || !canvas) return { x, y };\n\n      const cw = container.clientWidth;\n      const ch = container.clientHeight;\n      const vw = canvas.width;\n      const vh = canvas.height;\n\n      const limitX = (vw / 2) + (cw / 2) - this.viewPadding;\n      const limitY = (vh / 2) + (ch / 2) - this.viewPadding;\n\n      return {\n        x: Math.max(-limitX, Math.min(limitX, x)),\n        y: Math.max(-limitY, Math.min(limitY, y))\n      };\n    },\n\n    onMouseDown(e) {\n      if (this.activeTool !== 'hand') return;\n      this.isDragging = true;\n      this.lastMouseX = e.clientX;\n      this.lastMouseY = e.clientY;\n    },\n\n    onMouseMove(e) {\n      if (!this.isDragging || this.activeTool !== 'hand') return;\n\n      const dx = e.clientX - this.lastMouseX;\n      const dy = e.clientY - this.lastMouseY;\n\n      const newPos = this.constrainOffset(this.offsetX + dx, this.offsetY + dy);\n      this.offsetX = newPos.x;\n      this.offsetY = newPos.y;\n\n      this.lastMouseX = e.clientX;\n      this.lastMouseY = e.clientY;\n    },\n\n    onMouseUp() {\n      this.isDragging = false;\n    },\n\n    onKeyDown(e) {\n      if (this.activeTool !== 'hand') return;\n      \n      const step = e.shiftKey ? 50 : 10;\n      let dx = 0;\n      let dy = 0;\n\n      if (e.key === \"ArrowLeft\") dx = -step;\n      if (e.key === \"ArrowRight\") dx = step;\n      if (e.key === \"ArrowUp\") dy = -step;\n      if (e.key === \"ArrowDown\") dy = step;\n\n      if (dx !== 0 || dy !== 0) {\n        e.preventDefault();\n        const newPos = this.constrainOffset(this.offsetX + dx, this.offsetY + dy);\n        this.offsetX = newPos.x;\n        this.offsetY = newPos.y;\n      }\n    },\n\n    fitToScreen() {\n      if (!this.layers || this.layers.length === 0) return;\n      \n      const container = this.$refs.container;\n      const baseLayer = this.layers[0];\n      \n      const maxW = container.clientWidth - 100;\n      const maxH = container.clientHeight - 100;\n\n      const scale = Math.min(\n        maxW / baseLayer.width,\n        maxH / baseLayer.height,\n        1\n      );\n\n      this.scale = scale;\n      this.$emit(\"scale-changed\", Math.round(scale * 100));\n      this.redraw();\n    },\n\n    redraw() {\n      if (!this.layers || this.layers.length === 0) return;\n\n      const base = this.layers[0];\n      const dstW = Math.round(base.width * this.scale);\n      const dstH = Math.round(base.height * this.scale);\n\n      const canvas = this.$refs.canvas;\n      if (!canvas) return;\n      \n      canvas.width = dstW;\n      canvas.height = dstH;\n      const ctx = canvas.getContext(\"2d\", { willReadFrequently: true });\n\n      // буфер финального изображения\n      const finalPixels = new Uint8ClampedArray(dstW * dstH * 4);\n\n      this.layers.forEach((layer, index) => {\n        if (!layer.visible) return;\n\n        const scaledLayer = this.bilinear(\n          layer.pixels, layer.width, layer.height, dstW, dstH\n        );\n\n        if (index === 0) {\n          const op = layer.opacity / 100;\n          for (let i = 0; i < finalPixels.length; i += 4) {\n            finalPixels[i] = scaledLayer[i];\n            finalPixels[i+1] = scaledLayer[i+1];\n            finalPixels[i+2] = scaledLayer[i+2];\n            const alpha = layer.alphaVisible ? scaledLayer[i+3] : 255;\n            finalPixels[i+3] = alpha * op;\n          }\n        } else {\n          this.blendLayers(finalPixels, scaledLayer, layer);\n        }\n      });\n\n      this.imageData = new ImageData(finalPixels, dstW, dstH);\n      ctx.putImageData(this.imageData, 0, 0);\n    },\n\n    blendLayers(base, top, layer) {\n      const opacity = layer.opacity / 100;\n      for (let i = 0; i < base.length; i += 4) {\n        const a1 = base[i+3] / 255;\n        const r2 = top[i], g2 = top[i+1], b2 = top[i+2];\n        const a2 = (layer.alphaVisible ? top[i+3] / 255 : 1) * opacity;\n\n        const r1 = base[i], g1 = base[i+1], b1 = base[i+2];\n        \n        let rd, gd, bd;\n        const br = r1/255, tr = r2/255;\n        const bg = g1/255, tg = g2/255;\n        const bb = b1/255, tb = b2/255;\n\n        if (layer.blendMode === 'multiply') {\n          rd = br * tr; gd = bg * tg; bd = bb * tb;\n        } else if (layer.blendMode === 'screen') {\n          rd = 1 - (1-br)*(1-tr); gd = 1 - (1-bg)*(1-tg); bd = 1 - (1-bb)*(1-tb);\n        } else if (layer.blendMode === 'overlay') {\n          const ov = (b, t) => b < 0.5 ? 2*b*t : 1 - 2*(1-b)*(1-t);\n          rd = ov(br, tr); gd = ov(bg, tg); bd = ov(bb, tb);\n        } else {\n          rd = tr; gd = tg; bd = tb;\n        }\n\n        const outA = a2 + a1 * (1 - a2);\n        if (outA > 0) {\n          base[i]   = ((rd * 255) * a2 + r1 * a1 * (1 - a2)) / outA;\n          base[i+1] = ((gd * 255) * a2 + g1 * a1 * (1 - a2)) / outA;\n          base[i+2] = ((bd * 255) * a2 + b1 * a1 * (1 - a2)) / outA;\n          base[i+3] = outA * 255;\n        }\n      }\n    },\n\n    runResizeAlgo(pixels, sw, sh, dw, dh, method) {\n      if (method === 'nearest') {\n        return this.nearest(pixels, sw, sh, dw, dh);\n      } else {\n        return this.bilinear(pixels, sw, sh, dw, dh);\n      }\n    },\n\n    bilinear(src, sw, sh, dw, dh) {\n      const dst = new Uint8ClampedArray(dw * dh * 4);\n\n      for (let y = 0; y < dh; y++) {\n        for (let x = 0; x < dw; x++) {\n          const gx = (x + 0.5) * sw / dw - 0.5;\n          const gy = (y + 0.5) * sh / dh - 0.5;\n\n          const x0 = Math.floor(gx);\n          const y0 = Math.floor(gy);\n          const x1 = Math.min(x0 + 1, sw - 1);\n          const y1 = Math.min(y0 + 1, sh - 1);\n\n          const dx = gx - x0;\n          const dy = gy - y0;\n\n          for (let c = 0; c < 4; c++) {\n            const i00 = (y0 * sw + x0) * 4 + c;\n            const i10 = (y0 * sw + x1) * 4 + c;\n            const i01 = (y1 * sw + x0) * 4 + c;\n            const i11 = (y1 * sw + x1) * 4 + c;\n\n            dst[(y * dw + x) * 4 + c] =\n              src[i00] * (1 - dx) * (1 - dy) +\n              src[i10] * dx * (1 - dy) +\n              src[i01] * (1 - dx) * dy +\n              src[i11] * dx * dy;\n          }\n        }\n      }\n      return dst;\n    },\n\n    nearest(src, sw, sh, dw, dh) {\n      const dst = new Uint8ClampedArray(dw * dh * 4);\n      for (let y = 0; y < dh; y++) {\n        for (let x = 0; x < dw; x++) {\n          const sx = Math.floor(x * sw / dw);\n          const sy = Math.floor(y * sh / dh);\n          const sIdx = (sy * sw + sx) * 4;\n          const dIdx = (y * dw + x) * 4;\n          \n          dst[dIdx]     = src[sIdx];\n          dst[dIdx + 1] = src[sIdx + 1];\n          dst[dIdx + 2] = src[sIdx + 2];\n          dst[dIdx + 3] = src[sIdx + 3];\n        }\n      }\n      return dst;\n    },\n\n    resizeImage(newW, newH, method) {\n      const algo =\n        method === \"nearest\"\n          ? this.nearest\n          : this.bilinear;\n\n      const pixels = algo(\n        this.originalPixels,\n        this.originalWidth,\n        this.originalHeight,\n        newW,\n        newH\n      );\n\n      this.originalPixels = pixels;\n      this.originalWidth = newW;\n      this.originalHeight = newH;\n\n      this.scale = 1;\n      this.redraw();\n    },\n\n    onClick(e) {\n      if (this.activeTool !== \"eyedropper\") return;\n      if (!this.imageData) return;\n\n      // предотвращаем стандартные действия браузера\n      e.preventDefault();\n\n      const rect = this.$refs.canvas.getBoundingClientRect();\n      const x = Math.floor(e.clientX - rect.left);\n      const y = Math.floor(e.clientY - rect.top);\n\n      // проверка на выход за границы\n      if (x < 0 || y < 0 || x >= this.imageData.width || y >= this.imageData.height) return;\n\n      const i = (y * this.imageData.width + x) * 4;\n      const color = {\n        r: this.imageData.data[i],\n        g: this.imageData.data[i + 1],\n        b: this.imageData.data[i + 2],\n        x,\n        y\n      };\n\n      // проверка нажатия любой из клавиш\n      const isSecondColor = e.altKey || e.ctrlKey || e.shiftKey;\n      const slot = isSecondColor ? \"B\" : \"A\";\n\n      console.log(`Picked color for slot ${slot}:`, color);\n      this.$emit(\"pick-color\", { color, slot });\n    }\n  }\n};\n</script>\n\n<style scoped>\n.canvas-container {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: calc(100vh - 64px - 32px);\n  background: #fff;\n  margin-top: 64px;\n  overflow: hidden;\n  position: relative;\n}\ncanvas {\n  display: block;\n  user-select: none;\n  touch-action: none;\n}\n</style>","import { render } from \"./CanvasComponent.vue?vue&type=template&id=47591abc&scoped=true\"\nimport script from \"./CanvasComponent.vue?vue&type=script&lang=js\"\nexport * from \"./CanvasComponent.vue?vue&type=script&lang=js\"\n\nimport \"./CanvasComponent.vue?vue&type=style&index=0&id=47591abc&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-47591abc\"]])\n\nexport default __exports__","<template>\r\n  <v-dialog v-model=\"open\" max-width=\"520\">\r\n    <v-card>\r\n      <v-card-title>Изменение размера изображения</v-card-title>\r\n\r\n      <v-card-text>\r\n        <div class=\"mb-3\">\r\n          <div>До: {{ mpBefore }} Мп</div>\r\n          <div>После: {{ mpAfter }} Мп</div>\r\n        </div>\r\n\r\n        <v-select\r\n          :items=\"['Проценты', 'Пиксели']\"\r\n          v-model=\"mode\"\r\n          label=\"Режим изменения\"\r\n          density=\"compact\"\r\n        />\r\n\r\n        <v-text-field\r\n          v-model.number=\"widthValue\"\r\n          label=\"Ширина\"\r\n          type=\"number\"\r\n          density=\"compact\"\r\n        />\r\n\r\n        <v-text-field\r\n          v-model.number=\"heightValue\"\r\n          label=\"Высота\"\r\n          type=\"number\"\r\n          density=\"compact\"\r\n        />\r\n\r\n        <v-checkbox\r\n          v-model=\"keepRatio\"\r\n          label=\"Сохранять пропорции\"\r\n          color=\"black\"\r\n          style=\"color: black;\"\r\n          hide-details\r\n        />\r\n\r\n        <v-select\r\n          :items=\"interpolations\"\r\n          item-title=\"label\"\r\n          item-value=\"value\"\r\n          v-model=\"interpolation\"\r\n          label=\"Интерполяция\"\r\n          density=\"compact\"\r\n        >\r\n          <template #append-inner>\r\n            <v-tooltip activator=\"parent\" location=\"end\">\r\n              {{ interpolationHint }}\r\n            </v-tooltip>\r\n          </template>\r\n        </v-select>\r\n      </v-card-text>\r\n\r\n      <v-card-actions>\r\n        <v-spacer />\r\n        <v-btn variant=\"text\" @click=\"close\">Отмена</v-btn>\r\n        <v-btn color=\"primary\" @click=\"confirm\">Применить</v-btn>\r\n      </v-card-actions>\r\n    </v-card>\r\n  </v-dialog>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"ResizeComponent\",\r\n\r\n  props: {\r\n    modelValue: Boolean,\r\n    width: Number,\r\n    height: Number\r\n  },\r\n\r\n  emits: [\"update:modelValue\", \"confirm\"],\r\n\r\n  data() {\r\n    return {\r\n      mode: \"Проценты\",\r\n      widthValue: 100,\r\n      heightValue: 100,\r\n      keepRatio: true,\r\n      interpolation: \"bilinear\",\r\n      interpolations: [\r\n        {\r\n          label: \"Билинейная\",\r\n          value: \"bilinear\",\r\n          hint: \"Плавное масштабирование, лучшее качество\"\r\n        },\r\n        {\r\n          label: \"Ближайший сосед\",\r\n          value: \"nearest\",\r\n          hint: \"Быстро, но возможна пикселизация\"\r\n        }\r\n      ]\r\n    };\r\n  },\r\n\r\n  computed: {\r\n    open: {\r\n      get() {\r\n        return this.modelValue;\r\n      },\r\n      set(v) {\r\n        this.$emit(\"update:modelValue\", v);\r\n      }\r\n    },\r\n\r\n    mpBefore() {\r\n      return (this.width * this.height / 1e6).toFixed(2);\r\n    },\r\n\r\n    mpAfter() {\r\n      const w = this.newWidth;\r\n      const h = this.newHeight;\r\n      return ((w * h) / 1e6).toFixed(2);\r\n    },\r\n\r\n    newWidth() {\r\n      return this.mode === \"Проценты\"\r\n        ? Math.round(this.width * this.widthValue / 100)\r\n        : this.widthValue;\r\n    },\r\n\r\n    newHeight() {\r\n      return this.mode === \"Проценты\"\r\n        ? Math.round(this.height * this.heightValue / 100)\r\n        : this.heightValue;\r\n    },\r\n\r\n    interpolationHint() {\r\n      return this.interpolations.find(i => i.value === this.interpolation)?.hint;\r\n    }\r\n  },\r\n\r\n  watch: {\r\n    widthValue(val) {\r\n    if (this.keepRatio && this.width > 0) {\r\n      const ratio = this.height / this.width;\r\n      this.heightValue = Math.round(val * ratio);\r\n    }\r\n  },\r\n\r\n    modelValue(isOpen) {\r\n      if (isOpen) {\r\n        if (this.mode === \"Пиксели\") {\r\n          this.widthValue = this.width;\r\n          this.heightValue = this.height;\r\n        } else {\r\n          this.widthValue = 100;\r\n          this.heightValue = 100;\r\n        }\r\n      }\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    close() {\r\n      this.open = false;\r\n    },\r\n\r\n    confirm() {\r\n      this.$emit(\"confirm\", {\r\n        width: this.newWidth,\r\n        height: this.newHeight,\r\n        interpolation: this.interpolation\r\n      });\r\n      this.close();\r\n    }\r\n  }\r\n};\r\n</script>\r\n","import { render } from \"./ResizeComponent.vue?vue&type=template&id=c35a2d5e\"\nimport script from \"./ResizeComponent.vue?vue&type=script&lang=js\"\nexport * from \"./ResizeComponent.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <v-card class=\"layer-widget\" elevation=\"10\" width=\"280\">\r\n    <v-tabs v-model=\"tab\" density=\"compact\" color=\"primary\" grow>\r\n      <v-tab value=\"layers\" slider-color=\"primary\">Слои</v-tab>\r\n      <v-tab value=\"alpha\">Альфа</v-tab>\r\n    </v-tabs>\r\n\r\n    <v-divider></v-divider>\r\n\r\n    <div class=\"widget-content pa-2\">\r\n      <v-window v-model=\"tab\">\r\n        <v-window-item value=\"layers\">\r\n          <div v-if=\"layers.length === 0\" class=\"text-center text-caption py-4\">Нет слоев</div>\r\n          \r\n          <div \r\n            v-for=\"(layer, idx) in reversedLayers\" \r\n            :key=\"layer.id\"\r\n            :class=\"['layer-row', { active: (layers.length - 1 - idx) === activeIndex }]\"\r\n            @click=\"$emit('update-active', layers.length - 1 - idx)\"\r\n          >\r\n            <div class=\"d-flex align-center mb-1\">\r\n              <v-btn\r\n                :icon=\"layer.visible ? 'https://cdn-icons-png.flaticon.com/512/158/158746.png' : 'https://cdn-icons-png.flaticon.com/512/15861/15861894.png'\"\r\n                variant=\"text\"\r\n                density=\"comfortable\"\r\n                size=\"small\"\r\n                @click.stop=\"$emit('toggle-visibility', layers.length - 1 - idx)\"\r\n              >\r\n              <v-img src=\"https://cdn-icons-png.flaticon.com/512/158/158746.png\" width=\"28px\"></v-img>\r\n              </v-btn>\r\n\r\n              <div class=\"preview-mini mx-2\">\r\n                <canvas :ref=\"el => setPreview(el, layer)\" width=\"32\" height=\"32\"></canvas>\r\n              </div>\r\n\r\n              <span class=\"text-caption font-weight-bold flex-grow-1 text-truncate\">\r\n                {{ layer.name }}\r\n              </span>\r\n\r\n              <v-btn\r\n                icon=\"https://cdn-icons-png.flaticon.com/512/4225/4225690.png\"\r\n                variant=\"text\"\r\n                color=\"error\"\r\n                density=\"comfortable\"\r\n                size=\"small\"\r\n                @click.stop=\"$emit('remove-layer', layers.length - 1 - idx)\"\r\n              >\r\n                <v-img src=\"https://cdn-icons-png.flaticon.com/512/4225/4225690.png\" width=\"28px\"></v-img>\r\n              </v-btn>\r\n            </div>\r\n\r\n            <v-expand-transition>\r\n              <div v-if=\"(layers.length - 1 - idx) === activeIndex\" class=\"layer-controls px-1\">\r\n                <v-select\r\n                  :model-value=\"layer.blendMode\"\r\n                  :items=\"blendModes\"\r\n                  label=\"Режим\"\r\n                  density=\"compact\"\r\n                  variant=\"outlined\"\r\n                  hide-details\r\n                  class=\"mb-2\"\r\n                  @update:model-value=\"m => updateBlend(layers.length - 1 - idx, m)\"\r\n                >\r\n                  <template #item=\"{ props, item }\">\r\n                    <v-list-item v-bind=\"props\">\r\n                      <template #append>\r\n                        <v-tooltip :text=\"item.raw.desc\" location=\"left\">\r\n                          <template #activator=\"{ props }\">\r\n                            <v-icon v-bind=\"props\" size=\"x-small\" class=\"ml-2\"></v-icon>\r\n                          </template>\r\n                        </v-tooltip>\r\n                      </template>\r\n                    </v-list-item>\r\n                  </template>\r\n                </v-select>\r\n\r\n                <div class=\"d-flex align-center\">\r\n                  <v-icon size=\"x-small\" class=\"mr-2\"></v-icon>\r\n                  <v-slider\r\n                    :model-value=\"layer.opacity\"\r\n                    min=\"0\" max=\"100\" step=\"1\"\r\n                    hide-details\r\n                    density=\"compact\"\r\n                    color=\"primary\"\r\n                    @update:model-value=\"v => updateOpacity(layers.length - 1 - idx, v)\"\r\n                  ></v-slider>\r\n                  <span class=\"text-micro ml-2\">{{ layer.opacity }}%</span>\r\n                </div>\r\n              </div>\r\n            </v-expand-transition>\r\n          </div>\r\n        </v-window-item>\r\n\r\n        <v-window-item value=\"alpha\">\r\n          <div v-for=\"(layer, idx) in reversedLayers\" :key=\"'alpha-'+layer.id\" class=\"alpha-row pa-1\">\r\n            <div class=\"text-micro text-uppercase text-grey-darken-1 mb-1\">{{ layer.name }}</div>\r\n            <div v-if=\"layer.hasAlpha\" class=\"d-flex align-center\">\r\n              <div class=\"preview-mini alpha mr-2\">\r\n                <canvas :ref=\"el => setAlphaPreview(el, layer)\" width=\"32\" height=\"32\"></canvas>\r\n              </div>\r\n              <span class=\"text-caption flex-grow-1\">Альфа-канал</span>\r\n              <v-btn\r\n                :icon=\"layer.alphaVisible ? 'circle' : 'circle-outline'\"\r\n                variant=\"text\"\r\n                size=\"small\"\r\n                @click.stop=\"$emit('toggle-alpha', layers.length - 1 - idx)\"\r\n              ></v-btn>\r\n              <v-btn\r\n                icon=\"trash-can-outline\"\r\n                variant=\"text\"\r\n                color=\"error\"\r\n                size=\"small\"\r\n                @click.stop=\"$emit('remove-alpha', layers.length - 1 - idx)\"\r\n              ></v-btn>\r\n            </div>\r\n            <div v-else class=\"text-caption text-grey italic\">Нет альфа-канала</div>\r\n            <v-divider class=\"my-1\"></v-divider>\r\n          </div>\r\n        </v-window-item>\r\n      </v-window>\r\n    </div>\r\n  </v-card>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: ['layers', 'activeIndex'],\r\n  data: () => ({\r\n    tab: 'layers',\r\n    blendModes: [\r\n      { title: 'Обычный', value: 'normal', desc: 'Верхний слой полностью перекрывает нижний.' },\r\n      { title: 'Умножение', value: 'multiply', desc: 'Цвета перемножаются, результат всегда темнее. Полезно для теней.' },\r\n      { title: 'Экран', value: 'screen', desc: 'Противоположно умножению. Результат всегда светлее.' },\r\n      { title: 'Перекрытие', value: 'overlay', desc: 'Умножает или осветляет цвета в зависимости от базового слоя.' }\r\n    ]\r\n  }),\r\n  computed: {\r\n    reversedLayers() { return [...this.layers].reverse(); }\r\n  },\r\n  methods: {\r\n    setPreview(canvas, layer) {\r\n      if (!canvas) return;\r\n      const ctx = canvas.getContext('2d');\r\n      const tempImg = new ImageData(new Uint8ClampedArray(layer.pixels), layer.width, layer.height);\r\n      const off = document.createElement('canvas');\r\n      off.width = layer.width; off.height = layer.height;\r\n      off.getContext('2d').putImageData(tempImg, 0, 0);\r\n      ctx.clearRect(0, 0, 32, 32);\r\n      ctx.drawImage(off, 0, 0, 32, 32);\r\n    },\r\n    setAlphaPreview(canvas, layer) {\r\n      if (!canvas) return;\r\n      const ctx = canvas.getContext('2d');\r\n      const alphaArr = new Uint8ClampedArray(layer.pixels.length);\r\n      for(let i=0; i<layer.pixels.length; i+=4) {\r\n        const a = layer.pixels[i+3];\r\n        alphaArr[i] = alphaArr[i+1] = alphaArr[i+2] = a;\r\n        alphaArr[i+3] = 255;\r\n      }\r\n      const tempImg = new ImageData(alphaArr, layer.width, layer.height);\r\n      const off = document.createElement('canvas');\r\n      off.width = layer.width; off.height = layer.height;\r\n      off.getContext('2d').putImageData(tempImg, 0, 0);\r\n      ctx.drawImage(off, 0, 0, 32, 32);\r\n    },\r\n    updateOpacity(idx, val) { this.$emit('update-opacity', {idx, val}); },\r\n    updateBlend(idx, mode) { this.$emit('update-blend', {idx, mode}); }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.layer-widget {\r\n  position: absolute;\r\n  top: 80px;\r\n  right: 20px;\r\n  z-index: 100;\r\n  background: rgba(255, 255, 255, 0.9) !important;\r\n  backdrop-filter: blur(4px);\r\n  border: 1px solid rgba(0,0,0,0.1);\r\n  border-radius: 8px;\r\n}\r\n.widget-content {\r\n  max-height: 400px;\r\n  overflow-y: auto;\r\n}\r\n.layer-row {\r\n  border-radius: 4px;\r\n  margin-bottom: 4px;\r\n  padding: 4px;\r\n  border: 1px solid transparent;\r\n  cursor: pointer;\r\n  transition: all 0.2s;\r\n}\r\n.layer-row:hover { background: rgba(0,0,0,0.03); }\r\n.layer-row.active {\r\n  background: white;\r\n  border-color: #1976d2;\r\n  box-shadow: 0 2px 4px rgba(0,0,0,0.1);\r\n}\r\n.preview-mini {\r\n  width: 32px;\r\n  height: 32px;\r\n  background: #eee;\r\n  border: 1px solid #ccc;\r\n  border-radius: 2px;\r\n  overflow: hidden;\r\n}\r\n.preview-mini.alpha { background: black; }\r\n.text-micro { font-size: 10px; line-height: 1; }\r\n</style>","import { render } from \"./LayersComponent.vue?vue&type=template&id=5889ff01&scoped=true\"\nimport script from \"./LayersComponent.vue?vue&type=script&lang=js\"\nexport * from \"./LayersComponent.vue?vue&type=script&lang=js\"\n\nimport \"./LayersComponent.vue?vue&type=style&index=0&id=5889ff01&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-5889ff01\"]])\n\nexport default __exports__","import { render } from \"./App.vue?vue&type=template&id=4396fa2e&scoped=true\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=4396fa2e&scoped=true&lang=css\"\n\nimport exportComponent from \"../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-4396fa2e\"]])\n\nexport default __exports__","import { createApp } from 'vue'\nimport App from './App.vue'\n\nimport 'vuetify/styles'\nimport { createVuetify } from 'vuetify'\nimport * as components from 'vuetify/components'\nimport * as directives from 'vuetify/directives'\nimport { aliases, mdi } from \"vuetify/iconsets/mdi-svg\"\n\nconst vuetify = createVuetify({\n    components,\n    directives,\n    icons: {\n        defaultSet: \"mdi\",\n        aliases,\n        sets: {\n        mdi,\n        },\n    },\n})\n\ncreateApp(App).use(vuetify).mount('#app')","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t524: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkphotoshop\"] = self[\"webpackChunkphotoshop\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [504], function() { return __webpack_require__(2701); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["class","_createBlock","_component_v_app","_createVNode","_component_MenuComponent","$data","scalePercent","activeTool","layers","length","onImageLoaded","$options","onLayerAdded","onScaleChanged","onOpenResize","_cache","$event","showResize","onToolChanged","onAddColorLayer","onColorLayerAdded","_component_ResizeComponent","width","height","onConfirm","applyResize","_component_CanvasComponent","ref","imageSrc","onPickColor","_component_LayersComponent","activeLayerIndex","onUpdateActive","onToggleVisibility","toggleVisibility","onToggleAlpha","toggleAlpha","onRemoveLayer","removeLayer","onRemoveAlpha","removeAlpha","onUpdateOpacity","updateOpacity","onUpdateBlend","updateBlend","_component_v_footer","app","color","statusText","colorA","_createElementBlock","_hoisted_1","_createElementVNode","style","_normalizeStyle","background","rgbString","title","_hoisted_2","_toDisplayString","x","y","_hoisted_3","_Fragment","_renderList","space","_component_v_tooltip","location","offset","activator","_withCtx","props","_mergeProps","ref_for","_hoisted_4","getSpaceValues","_hoisted_5","spaceInfo","axes","colorB","_hoisted_6","_component_v_chip","size","contrastValue","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_component_v_app_bar","_component_v_toolbar_title","_component_v_btn","disabled","$props","canAddLayer","onClick","triggerFileInput","layersCount","_component_v_menu","key","_component_v_color_picker","onColorSelect","text","icon","variant","_ctx","$emit","_component_v_img","src","_component_v_select","items","scales","currentScale","label","density","onScaleChange","type","accept","hidden","onChange","args","onFileChange","name","emits","data","mounted","window","addEventListener","e","toLowerCase","this","setTool","beforeUnmount","removeEventListener","onKeyDown","watch","val","methods","rgba","tool","$refs","fileInput","click","value","Number","event","file","target","files","ext","split","pop","includes","reader","FileReader","onload","img","Image","result","depth","screen","colorDepth","readAsDataURL","buffer","arrayBuffer","DataView","getUint8","alert","flag","getUint16","pixels","Uint8ClampedArray","ptr","i","byte","gray","mask","v","__exports__","onMousedown","onMouseDown","onMousemove","onMouseMove","onMouseup","onMouseUp","onMouseleave","canvasStyle","Object","String","Array","default","originalPixels","originalWidth","originalHeight","scale","ctx","imageData","offsetX","offsetY","isDragging","lastMouseX","lastMouseY","viewPadding","computed","transform","cursor","transition","newVal","loadStandardImage","loadGB7","redraw","handler","newLayers","fitToScreen","deep","off","document","createElement","getContext","drawImage","getImageData","resetPosition","constrainOffset","container","canvas","cw","clientWidth","ch","clientHeight","vw","vh","limitX","limitY","Math","max","min","clientX","clientY","dx","dy","newPos","step","shiftKey","preventDefault","baseLayer","maxW","maxH","round","base","dstW","dstH","willReadFrequently","finalPixels","forEach","layer","index","visible","scaledLayer","bilinear","op","opacity","alpha","alphaVisible","blendLayers","ImageData","putImageData","top","a1","r2","g2","b2","a2","r1","g1","b1","rd","gd","bd","br","tr","bg","tg","bb","tb","blendMode","ov","b","t","outA","runResizeAlgo","sw","sh","dw","dh","method","nearest","dst","gx","gy","x0","floor","y0","x1","y1","c","i00","i10","i01","i11","sx","sy","sIdx","dIdx","resizeImage","newW","newH","algo","rect","getBoundingClientRect","left","r","g","isSecondColor","altKey","ctrlKey","slot","console","log","_component_v_dialog","open","_component_v_card","_component_v_card_title","_component_v_card_text","mpBefore","mpAfter","mode","_component_v_text_field","widthValue","number","heightValue","_component_v_checkbox","keepRatio","interpolations","interpolation","interpolationHint","_component_v_card_actions","_component_v_spacer","close","confirm","modelValue","Boolean","hint","get","set","toFixed","w","newWidth","h","newHeight","find","ratio","isOpen","elevation","_component_v_tabs","tab","grow","_component_v_tab","_component_v_divider","_component_v_window","_component_v_window_item","reversedLayers","idx","id","_normalizeClass","active","activeIndex","_withModifiers","el","setPreview","_component_v_expand_transition","blendModes","m","item","_component_v_list_item","append","raw","desc","_component_v_icon","_component_v_slider","hasAlpha","_hoisted_12","setAlphaPreview","_hoisted_13","reverse","tempImg","clearRect","alphaArr","a","components","MenuComponent","CanvasComponent","ResizeComponent","LayersComponent","RGB","XYZ","Lab","OKLch","calculateContrast","handleGlobalKeyDown","newLayer","Date","now","extractPixels","preview","push","splice","map","resizedPixels","$nextTick","getL","pow","l1","l2","rn","gn","bn","toLin","rl","gl","bl","z","f","L","b_coord","chroma","sqrt","hue","atan2","PI","render","vuetify","createVuetify","directives","icons","defaultSet","aliases","sets","mdi","createApp","App","use","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","call","deferred","O","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","keys","every","n","getter","__esModule","d","definition","o","defineProperty","enumerable","globalThis","Function","obj","prop","prototype","hasOwnProperty","Symbol","toStringTag","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","bind","__webpack_exports__"],"sourceRoot":""}