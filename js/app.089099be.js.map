{"version":3,"file":"js/app.089099be.js","mappings":"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","sources":["webpack://photoshop/./src/App.vue","webpack://photoshop/./src/components/MenuComponent.vue","webpack://photoshop/./src/components/MenuComponent.vue?7a66","webpack://photoshop/./src/components/CanvasComponent.vue","webpack://photoshop/./src/components/CanvasComponent.vue?d9ba","webpack://photoshop/./src/components/ResizeComponent.vue","webpack://photoshop/./src/components/ResizeComponent.vue?b6de","webpack://photoshop/./src/components/LayersComponent.vue","webpack://photoshop/./src/components/LayersComponent.vue?f603","webpack://photoshop/./src/components/CurvesDialog.vue","webpack://photoshop/./src/components/CurvesDialog.vue?d070","webpack://photoshop/./src/components/KernelDialog.vue","webpack://photoshop/./src/components/KernelDialog.vue?7f74","webpack://photoshop/./src/App.vue?7ccd","webpack://photoshop/./src/main.js","webpack://photoshop/webpack/bootstrap","webpack://photoshop/webpack/runtime/chunk loaded","webpack://photoshop/webpack/runtime/compat get default export","webpack://photoshop/webpack/runtime/define property getters","webpack://photoshop/webpack/runtime/global","webpack://photoshop/webpack/runtime/hasOwnProperty shorthand","webpack://photoshop/webpack/runtime/make namespace object","webpack://photoshop/webpack/runtime/jsonp chunk loading","webpack://photoshop/webpack/startup"],"sourcesContent":["<template>\n  <v-app>\n    <MenuComponent\n      :scale-percent=\"scalePercent\"\n      :active-tool=\"activeTool\"\n      :can-add-layer=\"layers.length < 2\"\n      @image-loaded=\"onLayerAdded\"\n      @scale-changed=\"onScaleChanged\"\n      @open-resize=\"showResize = true\"\n      @tool-changed=\"activeTool = $event\"\n      @add-color-layer=\"onColorLayerAdded\"\n      @open-curves=\"openCurves(false)\"\n      @export=\"handleExport\"\n      :layersCount=\"layers.length\"\n      :layers-count=\"layers.length\"\n      :active-layer-index=\"activeLayerIndex\"\n      @open-kernel-dialog=\"showKernel = true\"\n    />\n    <ResizeComponent\n      v-model=\"showResize\"\n      :width=\"layers[0]?.width || 0\"\n      :height=\"layers[0]?.height || 0\"\n      @confirm=\"applyResize\"\n    />\n\n    <CanvasComponent\n      ref=\"canvas\"\n      :layers=\"layers\"\n      :image-src=\"imageSrc\"\n      :scale-percent=\"scalePercent\"\n      :active-tool=\"activeTool\"\n      @pick-color=\"onPickColor\"\n      :active-index=\"activeLayerIndex\"\n      :active-lut=\"tempLut\"\n      :lut-target=\"curvesAlphaMode ? 'alpha' : 'rgb'\"\n    />\n\n    <LayersComponent\n      :layers=\"layers\"\n      :active-index=\"activeLayerIndex\"\n      @update-active=\"activeLayerIndex = $event\"\n      @toggle-visibility=\"toggleVisibility\"\n      @toggle-alpha=\"toggleAlpha\"\n      @remove-layer=\"removeLayer\"\n      @remove-alpha=\"removeAlpha\"\n      @update-opacity=\"updateOpacity\"\n      @update-blend=\"updateBlend\"\n      @open-alpha-curves=\"openCurves(true)\"\n    />\n\n    <KernelDialog \n      v-model=\"showKernel\"\n      :active-layer=\"layers[activeLayerIndex]\"\n      @apply=\"onKernelApply\"\n      @preview=\"onKernelPreview\"\n      @restore=\"onKernelRestore\"\n    />\n\n    <CurvesDialog\n      v-model=\"showCurves\"\n      :layer=\"layers[activeLayerIndex]\"\n      :is-alpha-mode=\"curvesAlphaMode\"\n      @preview=\"handleCurvesPreview\"\n      @confirm=\"applyCurves\"\n    />\n\n    <v-footer app height=\"32\" color=\"grey-darken-4\" class=\"white--text px-4 align-center justify-center\">\n      {{ statusText }}\n    </v-footer>\n\n    <v-footer\n      v-if=\"activeTool === 'eyedropper'\"\n      app\n      height=\"32\"\n      color=\"grey-darken-4\"\n      class=\"white--text px-2 d-flex align-center justify-space-between eyedropper-footer\"\n    >\n      <div v-if=\"colorA\" class=\"d-flex align-center overflow-hidden flex-grow-1\">\n        <div class=\"swatch-box\" :style=\"{ background: rgbString(colorA) }\" title=\" A\"></div>\n        \n        <span class=\"coord-label mr-3\">\n          <strong> 1</strong> ({{ colorA.x }}, {{ colorA.y }})\n        </span>\n\n        <div class=\"d-flex space-group\">\n          <template v-for=\"space in ['RGB', 'XYZ', 'Lab', 'OKLch']\" :key=\"space\">\n            <v-tooltip location=\"top\" offset=\"10\">\n              <template #activator=\"{ props }\">\n                <span v-bind=\"props\" class=\"space-val\">\n                  <span class=\"space-tag\">{{ space }}</span>\n                  {{ getSpaceValues(space, colorA) }}\n                </span>\n              </template>\n              <div class=\"text-caption\">\n                <strong>{{ spaceInfo[space].title }}</strong><br>\n                {{ spaceInfo[space].axes }}\n              </div>\n            </v-tooltip>\n          </template>\n        </div>\n      </div>\n\n      <div v-if=\"colorA && colorB\">\n        <v-chip size=\"small\" color=\"#008FFF\">\n          : {{ contrastValue }}:1\n        </v-chip>\n      </div>\n\n      <div v-if=\"colorB\" class=\"d-flex align-center overflow-hidden flex-grow-1 justify-end\">\n        <div class=\"d-flex space-group\">\n          <template v-for=\"space in ['RGB', 'XYZ', 'Lab', 'OKLch']\" :key=\"space\">\n            <v-tooltip location=\"top\" offset=\"10\">\n              <template #activator=\"{ props }\">\n                <span v-bind=\"props\" class=\"space-val\">\n                  <span class=\"space-tag\">{{ space }}</span>\n                  {{ getSpaceValues(space, colorB) }}\n                </span>\n              </template>\n              <div class=\"text-caption\">\n                <strong>{{ spaceInfo[space].title }}</strong><br>\n                {{ spaceInfo[space].axes }}\n              </div>\n            </v-tooltip>\n          </template>\n        </div>\n\n        <span class=\"coord-label ml-3\">\n          ({{ colorB.x }}, {{ colorB.y }}) <strong> 2</strong>\n        </span>\n\n        <div class=\"swatch-box ml-2\" :style=\"{ background: rgbString(colorB) }\" title=\" B\"></div>\n      </div>\n    </v-footer>\n  </v-app>\n</template>\n\n<script>\nimport MenuComponent from \"./components/MenuComponent.vue\";\nimport CanvasComponent from \"./components/CanvasComponent.vue\";\nimport ResizeComponent from \"./components/ResizeComponent.vue\";\nimport LayersComponent from \"./components/LayersComponent.vue\";\nimport CurvesDialog from './components/CurvesDialog.vue';\nimport KernelDialog from \"./components/KernelDialog.vue\";\n\nexport default {\n  name: \"App\",\n  components: { MenuComponent, CanvasComponent, ResizeComponent, LayersComponent, CurvesDialog, KernelDialog },\n\n  props: ['layersCount'],\n\n  data() {\n    return {\n      imageSrc: null,\n      scalePercent: 100,\n      //statusText: \" \",\n      showResize: false,\n      activeTool: \"hand\",\n      colorA: null,\n      colorB: null,\n      spaceInfo: {\n        RGB: { title: \"RGB\", axes: \"Red, Green, Blue: 0-255.\" },\n        XYZ: { title: \"XYZ\", axes: \"X: ~0-95, Y (): 0-100, Z: ~0-108.\" },\n        Lab: { title: \"Lab\", axes: \"L (): 0-100, a: (/), b: (/).\" },\n        OKLch: { title: \"OKLch\", axes: \"L: 0-1, C (): 0-0.4, h (): 0-360.\" }\n      },\n      layers: [],\n      activeLayerIndex: 0,\n      showCurves: false,\n      curvesAlphaMode: false,\n      tempLut: null,\n      showKernel: false,\n      kernelAlphaMode: false,\n    };\n  },\n\n  computed: {\n    contrastValue() {\n      if (!this.colorA || !this.colorB) return \"0\";\n      return this.calculateContrast(this.colorA, this.colorB).toFixed(2);\n    },\n\n    statusText() {\n      if (this.layers.length === 0) return \" \";\n      const active = this.layers[this.activeLayerIndex];\n      return `: ${active?.name}   |   : ${active?.width}x${active?.height} px   |   : ${active?.depth} `;\n    }\n  },\n\n  mounted() {\n    window.addEventListener(\"keydown\", this.handleGlobalKeyDown);\n  },\n\n  beforeUnmount() {\n    window.removeEventListener(\"keydown\", this.handleGlobalKeyDown);\n  },\n\n  methods: {\n    onLayerAdded(data) {\n      if (this.layers.length >= 2) return;\n      \n      const newLayer = {\n        id: Date.now(),\n        name: this.layers.length === 0 ? \" 1\" : \" 2\",\n        pixels: data.pixels || this.extractPixels(data.src, data.width, data.height),\n        width: data.width,\n        height: data.height,\n        depth: data.depth,\n        opacity: 100,\n        visible: true,\n        blendMode: 'normal',\n        alphaVisible: true,\n        hasAlpha: true,\n        preview: \"\"\n      };\n      \n      this.layers.push(newLayer);\n      this.activeLayerIndex = this.layers.length - 1;\n    },\n    onColorLayerAdded(color) {\n      if (this.layers.length === 0) return;\n      const base = this.layers[0];\n      const size = base.width * base.height * 4;\n      const pixels = new Uint8ClampedArray(size);\n      \n      for (let i = 0; i < size; i += 4) {\n        pixels[i] = color.r;\n        pixels[i+1] = color.g;\n        pixels[i+2] = color.b;\n        pixels[i+3] = 255;\n      }\n      \n      this.onLayerAdded({ pixels, width: base.width, height: base.height });\n    },\n    extractPixels(src, w, h) {\n      const canvas = document.createElement('canvas');\n      canvas.width = w; canvas.height = h;\n      const ctx = canvas.getContext('2d');\n      const img = new Image();\n      img.src = src;\n      ctx.drawImage(img, 0, 0);\n      return ctx.getImageData(0, 0, w, h).data;\n    },\n\n    toggleVisibility(idx) { this.layers[idx].visible = !this.layers[idx].visible; },\n    toggleAlpha(idx) { this.layers[idx].alphaVisible = !this.layers[idx].alphaVisible; },\n    removeLayer(idx) { \n      this.layers.splice(idx, 1);\n      this.activeLayerIndex = Math.max(0, this.layers.length - 1);\n    },\n    removeAlpha(idx) {\n      const layer = this.layers[idx];\n      for (let i = 3; i < layer.pixels.length; i += 4) layer.pixels[i] = 255;\n      layer.hasAlpha = false;\n    },\n    updateOpacity({idx, val}) { this.layers[idx].opacity = val; },\n    updateBlend({idx, mode}) { this.layers[idx].blendMode = mode; },\n\n    handleGlobalKeyDown(e) {\n      const key = e.key.toLowerCase();\n      if (key === 'h') this.activeTool = 'hand';\n      if (key === 'i') this.activeTool = 'eyedropper';\n    },\n\n    onImageLoaded(data) {\n      this.imageSrc = data;\n      //this.statusText = `: ${data.width}${data.height} px | : ${data.depth} `;\n    },\n\n    onScaleChanged(value) {\n      this.scalePercent = value;\n    },\n\n    applyResize(data) {\n      if (this.layers.length === 0) return;\n      this.layers = this.layers.map(layer => {\n        //     \n        const resizedPixels = this.$refs.canvas.runResizeAlgo(\n          layer.pixels,\n          layer.width,\n          layer.height,\n          data.width,\n          data.height,\n          data.interpolation\n        );\n\n        return {\n          ...layer,\n          pixels: resizedPixels,\n          width: data.width,\n          height: data.height\n        };\n      });\n\n      this.$nextTick(() => {\n        this.$refs.canvas.fitToScreen();\n      });\n    },\n\n    onPickColor({ color, slot }) {\n      if (slot === \"A\") {\n        this.colorA = color;\n      } else {\n        this.colorB = color;\n      }\n    },\n\n    calculateContrast(a, b) {\n      if (!a || !b) return 0;\n      \n      const getL = (c) => {\n        let r = c.r / 255, g = c.g / 255, b = c.b / 255;\n        r = r <= 0.03928 ? r / 12.92 : Math.pow((r + 0.055) / 1.055, 2.4);\n        g = g <= 0.03928 ? g / 12.92 : Math.pow((g + 0.055) / 1.055, 2.4);\n        b = b <= 0.03928 ? b / 12.92 : Math.pow((b + 0.055) / 1.055, 2.4);\n        return 0.2126 * r + 0.7152 * g + 0.0722 * b;\n      };\n\n      const l1 = getL(a);\n      const l2 = getL(b);\n      \n      return (Math.max(l1, l2) + 0.05) / (Math.min(l1, l2) + 0.05);\n    },\n\n    rgbString(c) { return `rgb(${c.r}, ${c.g}, ${c.b})`; },\n\n    getSpaceValues(space, color) {\n      const { r, g, b } = color;\n      //  sRGB\n      let rn = r / 255, gn = g / 255, bn = b / 255;\n      // linear RGB  XYZ\n      const toLin = (v) => v <= 0.04045 ? v / 12.92 : Math.pow((v + 0.055) / 1.055, 2.4);\n      const rl = toLin(rn), gl = toLin(gn), bl = toLin(bn);\n\n      if (space === 'RGB') return `${r},${g},${b}`;\n\n      // XYZ\n      const x = (rl * 0.4124 + gl * 0.3576 + bl * 0.1805) * 100;\n      const y = (rl * 0.2126 + gl * 0.7152 + bl * 0.0722) * 100;\n      const z = (rl * 0.0193 + gl * 0.1192 + bl * 0.9505) * 100;\n      if (space === 'XYZ') return `${x.toFixed(0)},${y.toFixed(0)},${z.toFixed(0)}`;\n\n      // Lab\n      const f = (t) => t > 0.008856 ? Math.pow(t, 1/3) : (7.787 * t) + (16/116);\n      const L = (116 * f(y / 100)) - 16;\n      const a = 500 * (f(x / 95.047) - f(y / 100));\n      const b_coord = 200 * (f(y / 100) - f(z / 108.883));\n      if (space === 'Lab') return `${L.toFixed(0)},${a.toFixed(0)},${b_coord.toFixed(0)}`;\n\n      // OKLch\n      const chroma = Math.sqrt(a * a + b_coord * b_coord);\n      let hue = Math.atan2(b_coord, a) * (180 / Math.PI);\n      if (hue < 0) hue += 360;\n      if (space === 'OKLch') return `${(L/100).toFixed(2)},${(chroma/100).toFixed(2)},${hue.toFixed(0)}`;\n      \n      return \"\";\n    },\n\n    applyCurves({ lut, isAlpha }) {\n      const layer = this.layers[this.activeLayerIndex];\n      \n      if (!layer || !layer.pixels) {\n        console.warn(\"     \");\n        return;\n      }\n\n      const newPixels = new Uint8ClampedArray(layer.pixels);\n\n      for (let i = 0; i < newPixels.length; i += 4) {\n        if (isAlpha) {\n          newPixels[i + 3] = lut[newPixels[i + 3]];\n        } else {\n          newPixels[i]     = lut[newPixels[i]];\n          newPixels[i + 1] = lut[newPixels[i + 1]];\n          newPixels[i + 2] = lut[newPixels[i + 2]];\n        }\n      }\n\n      layer.pixels = newPixels;\n      this.tempLut = null; \n      this.layers = [...this.layers];\n    },\n\n    handleCurvesPreview(lut) {\n      if (this.layers.length > 0 && this.layers[this.activeLayerIndex]) {\n        this.tempLut = lut;\n      } else {\n        this.tempLut = null;\n      }\n    },\n\n    openCurves(isAlpha = false) {\n      if (this.layers.length === 0) return;\n      this.curvesAlphaMode = isAlpha;\n      this.showCurves = true;\n    },\n\n\n    async handleExport(format) {\n      if (!this.layers || this.layers.length === 0) return;\n\n      const width = this.layers[0].width;\n      const height = this.layers[0].height;\n\n      const finalCanvas = document.createElement('canvas');\n      finalCanvas.width = width;\n      finalCanvas.height = height;\n      const ctx = finalCanvas.getContext('2d');\n\n      ctx.clearRect(0, 0, width, height);\n\n      const renderStack = [...this.layers]; \n\n      renderStack.forEach(layer => {\n        if (layer.visible === false) return;\n\n        const tempCanvas = document.createElement('canvas');\n        tempCanvas.width = layer.width;\n        tempCanvas.height = layer.height;\n        const tempCtx = tempCanvas.getContext('2d');\n\n        const imgData = new ImageData(\n          new Uint8ClampedArray(layer.pixels), \n          layer.width, \n          layer.height\n        );\n        tempCtx.putImageData(imgData, 0, 0);\n\n        ctx.save();\n        if (layer.opacity !== undefined) {\n          ctx.globalAlpha = layer.opacity / 100;\n        } else {\n          ctx.globalAlpha = 1.0;\n        }\n\n        ctx.globalCompositeOperation = layer.blendMode || 'source-over';\n\n        const targetX = layer.x || 0;\n        const targetY = layer.y || 0;\n        const targetWidth = layer.displayWidth || width;\n        const targetHeight = layer.displayHeight || height;\n\n        ctx.drawImage(tempCanvas, targetX, targetY, targetWidth, targetHeight);\n        ctx.restore();\n      });\n\n      if (format === 'gb7') {\n        const finalImageData = ctx.getImageData(0, 0, width, height).data;\n        this.saveGB7(finalImageData, width, height);\n      } else {\n        this.saveStandard(finalCanvas, format);\n      }\n    },\n\n    saveGB7(rgbaPixels, width, height) {\n      const header = new ArrayBuffer(12);\n      const view = new DataView(header);\n\n      // c GB7\n      view.setUint8(0, 0x47); // G\n      view.setUint8(1, 0x42); // B\n      view.setUint8(2, 0x37); // 7\n      view.setUint8(3, 0x1D); //  - \n\n      view.setUint8(4, 0x01);            // \n      view.setUint8(5, 0x01);            // \n      view.setUint16(6, width, false);   // \n      view.setUint16(8, height, false);  // \n      view.setUint16(10, 0x0000, false); // \n\n      const gb7Pixels = new Uint8Array(width * height);\n\n      for (let i = 0; i < width * height; i++) {\n        const r = rgbaPixels[i * 4];\n        const g = rgbaPixels[i * 4 + 1];\n        const b = rgbaPixels[i * 4 + 2];\n        const a = rgbaPixels[i * 4 + 3];\n\n        const gray = Math.round(0.299 * r + 0.587 * g + 0.114 * b);\n        const gray7bit = Math.floor(gray / 2); // 0-255  0-127\n\n        //   \n        const mask = a > 128 ? 0x80 : 0x00;\n\n        gb7Pixels[i] = mask | (gray7bit & 0x7F);\n      }\n\n      const blob = new Blob([header, gb7Pixels], { type: 'application/octet-stream' });\n      this.download(blob, `export_${Date.now()}.gb7`);\n    },\n\n    saveStandard(canvas, format) {\n      const mime = format === 'jpg' ? 'image/jpeg' : 'image/png';\n      canvas.toBlob((blob) => {\n        this.download(blob, `export_${Date.now()}.${format}`);\n      }, mime, 0.95);\n    },\n\n    download(blob, filename) {\n      const url = URL.createObjectURL(blob);\n      const link = document.createElement('a');\n      link.href = url;\n      link.download = filename;\n      link.click();\n      URL.revokeObjectURL(url);\n    },\n\n\n    applyConvolution(kernel) {\n      if (this.activeLayerIndex === -1 || !this.layers[this.activeLayerIndex]) return;\n      if (!kernel || kernel.length < 9) return; \n\n      const layer = this.layers[this.activeLayerIndex];\n      const src = layer.pixels;\n      const w = layer.width;\n      const h = layer.height;\n      const dst = new Uint8ClampedArray(src.length);\n\n      const getPixel = (x, y, channel) => {\n        const ix = Math.min(w - 1, Math.max(0, x));\n        const iy = Math.min(h - 1, Math.max(0, y));\n        return src[(iy * w + ix) * 4 + channel];\n      };\n\n      for (let y = 0; y < h; y++) {\n        for (let x = 0; x < w; x++) {\n          let r = 0, g = 0, b = 0;\n\n          for (let ky = -1; ky <= 1; ky++) {\n            for (let kx = -1; kx <= 1; kx++) {\n              const weight = kernel[(ky + 1) * 3 + (kx + 1)];\n              r += getPixel(x + kx, y + ky, 0) * weight;\n              g += getPixel(x + kx, y + ky, 1) * weight;\n              b += getPixel(x + kx, y + ky, 2) * weight;\n            }\n          }\n\n          const idx = (y * w + x) * 4;\n          dst[idx]     = Math.min(255, Math.max(0, r));\n          dst[idx + 1] = Math.min(255, Math.max(0, g));\n          dst[idx + 2] = Math.min(255, Math.max(0, b));\n          dst[idx + 3] = src[idx + 3]; \n        }\n      }\n      return dst;\n    },\n\n    onKernelPreview(kernel) {\n      const activeLayer = this.layers[this.activeLayerIndex];\n      if (!this.tempBackup) this.tempBackup = new Uint8ClampedArray(activeLayer.pixels);\n      \n      activeLayer.pixels = this.applyConvolution(kernel, this.activeLayerIndex);\n    },\n\n    onKernelRestore() {\n      if (this.tempBackup) {\n        this.layers[this.activeLayerIndex].pixels = new Uint8ClampedArray(this.tempBackup);\n        this.tempBackup = null;\n      }\n    },\n\n    onKernelApply(kernel) {\n      this.tempBackup = null;\n      this.layers[this.activeLayerIndex].pixels = this.applyConvolution(kernel, this.activeLayerIndex);\n    },\n  }\n};\n</script>\n\n<style scoped>\n.swatch-box {\n  width: 22px;\n  height: 22px;\n  min-width: 18px;\n  border: 2px solid #fff;\n  border-radius: 4px;\n  box-shadow: 0 0 4px rgba(0,0,0,0.5);\n  margin-right: 8px;\n}\n\n.coord-label {\n  font-size: 11px;\n  color: #eee;\n  white-space: nowrap;\n  padding-right: 1px 6px;\n} \n\n.space-val {\n  padding: 1px 4px;\n}\n\n.space-tag {\n  color: #008FFF;\n  font-weight: bold;\n  font-size: 12px;\n  margin-right: 3px;\n  text-transform: uppercase;\n}\n\n.v-chip--size-x-small {\n  padding: 0 6px;\n  height: 18px;\n}\n</style>","<template>\r\n  <v-app-bar app color=\"primary\">\r\n    <v-toolbar-title> </v-toolbar-title>\r\n\r\n    <v-btn \r\n      variant=\"text\" \r\n      :disabled=\"!isSingleLayerSelected\"\r\n      @click=\"$emit('open-kernel-dialog')\"\r\n    >\r\n      \r\n    </v-btn>\r\n\r\n    <v-menu transition=\"slide-y-transition\">\r\n      <template v-slot:activator=\"{ props }\">\r\n        <v-btn \r\n          v-bind=\"props\" \r\n          variant=\"text\" \r\n          :disabled=\"layersCount === 0\"\r\n        ></v-btn>\r\n      </template>\r\n      <v-list density=\"compact\" bg-color=\"#222\" class=\"text-white\">\r\n        <v-list-item @click=\"$emit('export', 'png')\">\r\n          <v-list-item-title>  PNG</v-list-item-title>\r\n        </v-list-item>\r\n        \r\n        <v-list-item @click=\"$emit('export', 'jpg')\">\r\n          <v-list-item-title>  JPG</v-list-item-title>\r\n        </v-list-item>\r\n\r\n        <v-divider class=\"my-1\"></v-divider>\r\n\r\n        <v-list-item @click=\"$emit('export', 'gb7')\">\r\n          <v-list-item-title>  GB7</v-list-item-title>\r\n        </v-list-item>\r\n      </v-list>\r\n    </v-menu>\r\n\r\n    <v-btn :disabled=\"!canAddLayer\" @click=\"triggerFileInput\" class=\"mr-4\">\r\n      {{ layersCount === 0 ? ' ' : ' ' }}\r\n    </v-btn>\r\n\r\n    <v-menu v-if=\"layersCount > 0 && canAddLayer\">\r\n      <template v-slot:activator=\"{ props }\">\r\n        <v-btn v-bind=\"props\" @click=\"$emit('add-color-layer', { r: 0, g: 150, b: 255 })\" class=\"ml-2\"> </v-btn>\r\n      </template>\r\n      <v-color-picker @update:model-value=\"onColorSelect\"></v-color-picker>\r\n    </v-menu>\r\n\r\n    <v-tooltip text=\" (H)\" location=\"bottom\">\r\n      <template #activator=\"{ props }\">\r\n        <v-btn\r\n          v-bind=\"props\"\r\n          icon\r\n          :color=\"activeTool === 'hand' ? 'white' : 'white-darken-2'\"\r\n          :variant=\"activeTool === 'hand' ? 'tonal' : 'text'\"\r\n          @click=\"$emit('tool-changed', 'hand')\"\r\n        >\r\n          <v-img src=\"https://cdn-icons-png.flaticon.com/512/658/658022.png\" width=\"28px\"></v-img>\r\n        </v-btn>\r\n      </template>\r\n    </v-tooltip>\r\n\r\n    <v-tooltip text=\" (I)\" location=\"bottom\">\r\n      <template #activator=\"{ props }\">\r\n        <v-btn\r\n          v-bind=\"props\"\r\n          icon\r\n          :color=\"activeTool === 'eyedropper' ? 'white' : 'white-darken-2'\"\r\n          :variant=\"activeTool === 'eyedropper' ? 'tonal' : 'text'\"\r\n          @click=\"$emit('tool-changed', 'eyedropper')\"\r\n        >\r\n          <v-img src=\"https://cdn-icons-png.flaticon.com/512/4347/4347420.png\" width=\"28px\"></v-img>\r\n        </v-btn>\r\n      </template>\r\n    </v-tooltip>\r\n\r\n    <!-- <v-btn @click=\"triggerFileInput\" class=\"mr-4\">\r\n       \r\n    </v-btn> -->\r\n\r\n    <v-btn class=\"ml-2\" @click=\"$emit('open-resize')\">\r\n       \r\n    </v-btn>\r\n\r\n    <v-select\r\n      :items=\"scales\"\r\n      :model-value=\"currentScale\"\r\n      label=\"\"\r\n      density=\"compact\"\r\n      style=\"max-width: 120px\"\r\n      @update:modelValue=\"onScaleChange\"\r\n    />\r\n\r\n    <input\r\n      ref=\"fileInput\"\r\n      type=\"file\"\r\n      accept=\".jpg,.jpeg,.png,.gb7\"\r\n      hidden\r\n      @change=\"onFileChange\"\r\n    />\r\n  </v-app-bar>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"MenuComponent\",\r\n\r\n  emits: [\"tool-changed\"],\r\n\r\n  props: [\"scalePercent\", \"activeTool\", \"canAddLayer\", \"layersCount\", \"activeLayerIndex\"],\r\n\r\n  data() {\r\n    return {\r\n      scales: [12, 25, 50, 75, 100, 150, 200, 300],\r\n      currentScale: 100,\r\n      //activeTool: \"hand\"\r\n    };\r\n  },\r\n\r\n  computed: {\r\n    isSingleLayerSelected() {\r\n      return this.activeLayerIndex !== -1 && this.layersCount > 0;\r\n    }\r\n  },\r\n\r\n  mounted() {\r\n    window.addEventListener(\"keydown\", e => {\r\n      if (e.key.toLowerCase() === \"h\") this.setTool(\"hand\");\r\n      if (e.key.toLowerCase() === \"i\") this.setTool(\"eyedropper\");\r\n    });\r\n  },\r\n\r\n  beforeUnmount() {\r\n    window.removeEventListener(\"keydown\", this.onKeyDown);\r\n  },\r\n\r\n  watch: {\r\n    scalePercent(val) {\r\n      this.currentScale = val;\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    onExportClick(format) {\r\n      this.$emit('export', format);\r\n    },\r\n\r\n    onColorSelect(color) {\r\n      this.$emit('add-color-layer', color.rgba);\r\n    },\r\n\r\n    setTool(tool) {\r\n      this.$emit(\"tool-changed\", tool);\r\n    },\r\n\r\n    onKeyDown(e) {\r\n      const key = e.key.toLowerCase();\r\n\r\n      if (key === \"h\") {\r\n        this.setTool(\"hand\");\r\n      }\r\n\r\n      if (key === \"i\") {\r\n        this.setTool(\"eyedropper\");\r\n      }\r\n    },\r\n\r\n    triggerFileInput() {\r\n      this.$refs.fileInput.click();\r\n    },\r\n\r\n    onScaleChange(value) {\r\n      this.currentScale = value;\r\n      this.$emit(\"scale-changed\", Number(value));\r\n    },\r\n\r\n    async onFileChange(event) {\r\n      const file = event.target.files[0];\r\n      if (!file) return;\r\n\r\n      const ext = file.name.split(\".\").pop().toLowerCase();\r\n\r\n      if ([\"jpg\", \"jpeg\", \"png\"].includes(ext)) {\r\n        const reader = new FileReader();\r\n        reader.onload = e => {\r\n          const img = new Image();\r\n          img.onload = () => {\r\n            this.$emit(\"image-loaded\", {\r\n              type: \"image\",\r\n              src: e.target.result,\r\n              width: img.width,\r\n              height: img.height,\r\n              depth: screen.colorDepth\r\n            });\r\n          };\r\n          img.src = e.target.result;\r\n        };\r\n        reader.readAsDataURL(file);\r\n      }\r\n\r\n      else if (ext === \"gb7\") {\r\n        const buffer = await file.arrayBuffer();\r\n        const data = new DataView(buffer);\r\n\r\n        //   GB7\r\n        if (\r\n          data.getUint8(0) !== 0x47 || // G\r\n          data.getUint8(1) !== 0x42 || // B\r\n          data.getUint8(2) !== 0x37 || // 7\r\n          data.getUint8(3) !== 0x1d    //  - \r\n        ) {\r\n          alert(\"  GB7\");\r\n          return;\r\n        }\r\n\r\n        // \r\n        // const version = data.getUint8(4);     // \r\n        const flag = data.getUint8(5);           // \r\n        const width = data.getUint16(6, false);  // \r\n        const height = data.getUint16(8, false); // \r\n        //  10-11\r\n        const pixels = new Uint8ClampedArray(width * height * 4); // RGBA\r\n        let ptr = 12; //  / \r\n\r\n        for (let i = 0; i < width * height; i++) {\r\n          const byte = data.getUint8(ptr++);\r\n          const gray = byte & 0x7f;        // 7 \r\n          const mask = (byte & 0x80) >> 7; //  \r\n          const v = gray * 2;              // 7    0254\r\n\r\n          pixels[i * 4] = v;\r\n          pixels[i * 4 + 1] = v;\r\n          pixels[i * 4 + 2] = v;\r\n          pixels[i * 4 + 3] = flag && mask === 0 ? 0 : 255; // \r\n        }\r\n\r\n        this.$emit(\"image-loaded\", {\r\n          type: \"gb7\",\r\n          width,\r\n          height,\r\n          pixels,\r\n          depth: 7\r\n        });\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.tool-btn {\r\n  border: 2px solid transparent;\r\n  border-radius: 8px;\r\n}\r\n\r\n.tool-btn.active {\r\n  border-color: #fff;\r\n}\r\n</style>","import { render } from \"./MenuComponent.vue?vue&type=template&id=51e01e34&scoped=true\"\nimport script from \"./MenuComponent.vue?vue&type=script&lang=js\"\nexport * from \"./MenuComponent.vue?vue&type=script&lang=js\"\n\nimport \"./MenuComponent.vue?vue&type=style&index=0&id=51e01e34&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-51e01e34\"]])\n\nexport default __exports__","<template>\n  <div \n    class=\"canvas-container\"\n    ref=\"container\"\n    @mousedown=\"onMouseDown\"\n    @mousemove=\"onMouseMove\"\n    @mouseup=\"onMouseUp\"\n    @mouseleave=\"onMouseUp\"\n  >\n    <canvas ref=\"canvas\" v-show=\"layers.length > 0\" @click=\"onClick\" :style=\"canvasStyle\"></canvas>\n    <div v-if=\"layers.length === 0\" class=\"text-grey\">    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"CanvasComponent\",\n\n  props: {\n    imageSrc: Object,\n    scalePercent: Number,\n    activeTool: String,\n    layers: {\n      type: Array,\n      default: () => []\n    },\n    activeLut: Uint8ClampedArray, //   \n    lutTarget: String             // rgb  \n  },\n\n  emits: [\"pick-color\", \"scale-changed\"],\n\n  data() {\n    return {\n      originalPixels: null,\n      originalWidth: 0,\n      originalHeight: 0,\n      scale: 1,\n      ctx: null,\n      imageData: null,\n      colorA: null,\n      colorB: null,\n\n      offsetX: 0,\n      offsetY: 0,\n      isDragging: false,\n      lastMouseX: 0,\n      lastMouseY: 0,\n      viewPadding: 50\n    };\n  },\n\n  computed: {\n    canvasStyle() {\n      return {\n        transform: `translate(${this.offsetX}px, ${this.offsetY}px)`,\n        cursor: this.activeTool === 'hand' \n          ? (this.isDragging ? 'grabbing' : 'grab') \n          : 'crosshair',\n        transition: this.isDragging ? 'none' : 'transform 0.1s ease-out'\n      };\n    }\n  },\n\n  mounted() {\n    window.addEventListener(\"keydown\", this.onKeyDown);\n  },\n\n  beforeUnmount() {\n    window.removeEventListener(\"keydown\", this.onKeyDown);\n  },\n\n  watch: {\n    imageSrc(newVal) {\n      if (!newVal) return;\n\n      if (newVal.type === \"image\") {\n        this.loadStandardImage(newVal.src);\n      } else if (newVal.type === \"gb7\") {\n        this.loadGB7(newVal);\n      }\n    },\n\n    scalePercent(newVal) {\n      this.scale = newVal / 100;\n      this.redraw();\n    },\n\n    layers: {\n      handler(newLayers) {\n        if (newLayers.length > 0) {\n          if (newLayers.length === 1 && this.scale === 1) {\n            this.fitToScreen();\n          } else {\n            this.redraw();\n          }\n        }\n      },\n      deep: true\n    },\n  },\n\n  methods: {\n    loadStandardImage(src) {\n      const img = new Image();\n      img.onload = () => {\n        this.originalWidth = img.width;\n        this.originalHeight = img.height;\n\n        const off = document.createElement(\"canvas\");\n        off.width = img.width;\n        off.height = img.height;\n\n        const ctx = off.getContext(\"2d\");\n        ctx.drawImage(img, 0, 0);\n\n        this.originalPixels = ctx.getImageData(\n          0, 0, img.width, img.height\n        ).data;\n\n        this.fitToScreen();\n      };\n      img.src = src;\n    },\n\n    loadGB7({ width, height, pixels }) {\n      this.originalWidth = width;\n      this.originalHeight = height;\n      this.originalPixels = pixels;\n      this.fitToScreen();\n    },\n\n    resetPosition() {\n      this.offsetX = 0;\n      this.offsetY = 0;\n    },\n\n    constrainOffset(x, y) {\n      const container = this.$refs.container;\n      const canvas = this.$refs.canvas;\n      if (!container || !canvas) return { x, y };\n\n      const cw = container.clientWidth;\n      const ch = container.clientHeight;\n      const vw = canvas.width;\n      const vh = canvas.height;\n\n      const limitX = (vw / 2) + (cw / 2) - this.viewPadding;\n      const limitY = (vh / 2) + (ch / 2) - this.viewPadding;\n\n      return {\n        x: Math.max(-limitX, Math.min(limitX, x)),\n        y: Math.max(-limitY, Math.min(limitY, y))\n      };\n    },\n\n    onMouseDown(e) {\n      if (this.activeTool !== 'hand') return;\n      this.isDragging = true;\n      this.lastMouseX = e.clientX;\n      this.lastMouseY = e.clientY;\n    },\n\n    onMouseMove(e) {\n      if (!this.isDragging || this.activeTool !== 'hand') return;\n\n      const dx = e.clientX - this.lastMouseX;\n      const dy = e.clientY - this.lastMouseY;\n\n      const newPos = this.constrainOffset(this.offsetX + dx, this.offsetY + dy);\n      this.offsetX = newPos.x;\n      this.offsetY = newPos.y;\n\n      this.lastMouseX = e.clientX;\n      this.lastMouseY = e.clientY;\n    },\n\n    onMouseUp() {\n      this.isDragging = false;\n    },\n\n    onKeyDown(e) {\n      if (this.activeTool !== 'hand') return;\n      \n      const step = e.shiftKey ? 50 : 10;\n      let dx = 0;\n      let dy = 0;\n\n      if (e.key === \"ArrowLeft\") dx = -step;\n      if (e.key === \"ArrowRight\") dx = step;\n      if (e.key === \"ArrowUp\") dy = -step;\n      if (e.key === \"ArrowDown\") dy = step;\n\n      if (dx !== 0 || dy !== 0) {\n        e.preventDefault();\n        const newPos = this.constrainOffset(this.offsetX + dx, this.offsetY + dy);\n        this.offsetX = newPos.x;\n        this.offsetY = newPos.y;\n      }\n    },\n\n    fitToScreen() {\n      if (!this.layers || this.layers.length === 0) return;\n      \n      const container = this.$refs.container;\n      const baseLayer = this.layers[0];\n      \n      const maxW = container.clientWidth - 100;\n      const maxH = container.clientHeight - 100;\n\n      const scale = Math.min(\n        maxW / baseLayer.width,\n        maxH / baseLayer.height,\n        1\n      );\n\n      this.scale = scale;\n      this.$emit(\"scale-changed\", Math.round(scale * 100));\n      this.redraw();\n    },\n\n    redraw() {\n      if (!this.layers || this.layers.length === 0) return;\n\n      const base = this.layers[0];\n      const dstW = Math.round(base.width * this.scale);\n      const dstH = Math.round(base.height * this.scale);\n\n      const canvas = this.$refs.canvas;\n      if (!canvas) return;\n      \n      canvas.width = dstW;\n      canvas.height = dstH;\n      const ctx = canvas.getContext(\"2d\", { willReadFrequently: true });\n\n      //   \n      const finalPixels = new Uint8ClampedArray(dstW * dstH * 4);\n\n      this.layers.forEach((layer, index) => {\n        if (!layer.visible) return;\n        let pixelsToDraw = layer.pixels;\n        if (index === this.activeIndex && this.activeLut) {\n          pixelsToDraw = new Uint8ClampedArray(layer.pixels);\n          for (let i = 0; i < pixelsToDraw.length; i += 4) {\n            if (this.lutTarget === 'alpha') {\n              pixelsToDraw[i+3] = this.activeLut[pixelsToDraw[i+3]];\n            } else {\n              pixelsToDraw[i]   = this.activeLut[pixelsToDraw[i]];\n              pixelsToDraw[i+1] = this.activeLut[pixelsToDraw[i+1]];\n              pixelsToDraw[i+2] = this.activeLut[pixelsToDraw[i+2]];\n            }\n          }\n        }\n\n        const scaledLayer = this.bilinear(\n          layer.pixels, layer.width, layer.height, dstW, dstH\n        );\n\n        if (index === 0) {\n          const op = layer.opacity / 100;\n          for (let i = 0; i < finalPixels.length; i += 4) {\n            finalPixels[i] = scaledLayer[i];\n            finalPixels[i+1] = scaledLayer[i+1];\n            finalPixels[i+2] = scaledLayer[i+2];\n            const alpha = layer.alphaVisible ? scaledLayer[i+3] : 255;\n            finalPixels[i+3] = alpha * op;\n          }\n        } else {\n          this.blendLayers(finalPixels, scaledLayer, layer);\n        }\n      });\n\n      this.imageData = new ImageData(finalPixels, dstW, dstH);\n      ctx.putImageData(this.imageData, 0, 0);\n    },\n\n    blendLayers(base, top, layer) {\n      const opacity = layer.opacity / 100;\n      for (let i = 0; i < base.length; i += 4) {\n        const a1 = base[i+3] / 255;\n        const r2 = top[i], g2 = top[i+1], b2 = top[i+2];\n        const a2 = (layer.alphaVisible ? top[i+3] / 255 : 1) * opacity;\n\n        const r1 = base[i], g1 = base[i+1], b1 = base[i+2];\n        \n        let rd, gd, bd;\n        const br = r1/255, tr = r2/255;\n        const bg = g1/255, tg = g2/255;\n        const bb = b1/255, tb = b2/255;\n\n        if (layer.blendMode === 'multiply') {\n          rd = br * tr; gd = bg * tg; bd = bb * tb;\n        } else if (layer.blendMode === 'screen') {\n          rd = 1 - (1-br)*(1-tr); gd = 1 - (1-bg)*(1-tg); bd = 1 - (1-bb)*(1-tb);\n        } else if (layer.blendMode === 'overlay') {\n          const ov = (b, t) => b < 0.5 ? 2*b*t : 1 - 2*(1-b)*(1-t);\n          rd = ov(br, tr); gd = ov(bg, tg); bd = ov(bb, tb);\n        } else {\n          rd = tr; gd = tg; bd = tb;\n        }\n\n        const outA = a2 + a1 * (1 - a2);\n        if (outA > 0) {\n          base[i]   = ((rd * 255) * a2 + r1 * a1 * (1 - a2)) / outA;\n          base[i+1] = ((gd * 255) * a2 + g1 * a1 * (1 - a2)) / outA;\n          base[i+2] = ((bd * 255) * a2 + b1 * a1 * (1 - a2)) / outA;\n          base[i+3] = outA * 255;\n        }\n      }\n    },\n\n    runResizeAlgo(pixels, sw, sh, dw, dh, method) {\n      if (method === 'nearest') {\n        return this.nearest(pixels, sw, sh, dw, dh);\n      } else {\n        return this.bilinear(pixels, sw, sh, dw, dh);\n      }\n    },\n\n    bilinear(src, sw, sh, dw, dh) {\n      const dst = new Uint8ClampedArray(dw * dh * 4);\n\n      for (let y = 0; y < dh; y++) {\n        for (let x = 0; x < dw; x++) {\n          const gx = (x + 0.5) * sw / dw - 0.5;\n          const gy = (y + 0.5) * sh / dh - 0.5;\n\n          const x0 = Math.floor(gx);\n          const y0 = Math.floor(gy);\n          const x1 = Math.min(x0 + 1, sw - 1);\n          const y1 = Math.min(y0 + 1, sh - 1);\n\n          const dx = gx - x0;\n          const dy = gy - y0;\n\n          for (let c = 0; c < 4; c++) {\n            const i00 = (y0 * sw + x0) * 4 + c;\n            const i10 = (y0 * sw + x1) * 4 + c;\n            const i01 = (y1 * sw + x0) * 4 + c;\n            const i11 = (y1 * sw + x1) * 4 + c;\n\n            dst[(y * dw + x) * 4 + c] =\n              src[i00] * (1 - dx) * (1 - dy) +\n              src[i10] * dx * (1 - dy) +\n              src[i01] * (1 - dx) * dy +\n              src[i11] * dx * dy;\n          }\n        }\n      }\n      return dst;\n    },\n\n    nearest(src, sw, sh, dw, dh) {\n      const dst = new Uint8ClampedArray(dw * dh * 4);\n      for (let y = 0; y < dh; y++) {\n        for (let x = 0; x < dw; x++) {\n          const sx = Math.floor(x * sw / dw);\n          const sy = Math.floor(y * sh / dh);\n          const sIdx = (sy * sw + sx) * 4;\n          const dIdx = (y * dw + x) * 4;\n          \n          dst[dIdx]     = src[sIdx];\n          dst[dIdx + 1] = src[sIdx + 1];\n          dst[dIdx + 2] = src[sIdx + 2];\n          dst[dIdx + 3] = src[sIdx + 3];\n        }\n      }\n      return dst;\n    },\n\n    resizeImage(newW, newH, method) {\n      const algo =\n        method === \"nearest\"\n          ? this.nearest\n          : this.bilinear;\n\n      const pixels = algo(\n        this.originalPixels,\n        this.originalWidth,\n        this.originalHeight,\n        newW,\n        newH\n      );\n\n      this.originalPixels = pixels;\n      this.originalWidth = newW;\n      this.originalHeight = newH;\n\n      this.scale = 1;\n      this.redraw();\n    },\n\n    onClick(e) {\n      if (this.activeTool !== \"eyedropper\") return;\n      if (!this.imageData) return;\n\n      //    \n      e.preventDefault();\n\n      const rect = this.$refs.canvas.getBoundingClientRect();\n      const x = Math.floor(e.clientX - rect.left);\n      const y = Math.floor(e.clientY - rect.top);\n\n      //     \n      if (x < 0 || y < 0 || x >= this.imageData.width || y >= this.imageData.height) return;\n\n      const i = (y * this.imageData.width + x) * 4;\n      const color = {\n        r: this.imageData.data[i],\n        g: this.imageData.data[i + 1],\n        b: this.imageData.data[i + 2],\n        x,\n        y\n      };\n\n      //     \n      const isSecondColor = e.altKey || e.ctrlKey || e.shiftKey;\n      const slot = isSecondColor ? \"B\" : \"A\";\n\n      console.log(`Picked color for slot ${slot}:`, color);\n      this.$emit(\"pick-color\", { color, slot });\n    }\n  }\n};\n</script>\n\n<style scoped>\n.canvas-container {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: calc(100vh - 64px - 32px);\n  background: #fff;\n  margin-top: 64px;\n  overflow: hidden;\n  position: relative;\n}\ncanvas {\n  display: block;\n  user-select: none;\n  touch-action: none;\n}\n</style>","import { render } from \"./CanvasComponent.vue?vue&type=template&id=a5980daa&scoped=true\"\nimport script from \"./CanvasComponent.vue?vue&type=script&lang=js\"\nexport * from \"./CanvasComponent.vue?vue&type=script&lang=js\"\n\nimport \"./CanvasComponent.vue?vue&type=style&index=0&id=a5980daa&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-a5980daa\"]])\n\nexport default __exports__","<template>\r\n  <v-dialog v-model=\"open\" max-width=\"520\">\r\n    <v-card>\r\n      <v-card-title>  </v-card-title>\r\n\r\n      <v-card-text>\r\n        <div class=\"mb-3\">\r\n          <div>: {{ mpBefore }} </div>\r\n          <div>: {{ mpAfter }} </div>\r\n        </div>\r\n\r\n        <v-select\r\n          :items=\"['', '']\"\r\n          v-model=\"mode\"\r\n          label=\" \"\r\n          density=\"compact\"\r\n        />\r\n\r\n        <v-text-field\r\n          v-model.number=\"widthValue\"\r\n          label=\"\"\r\n          type=\"number\"\r\n          density=\"compact\"\r\n        />\r\n\r\n        <v-text-field\r\n          v-model.number=\"heightValue\"\r\n          label=\"\"\r\n          type=\"number\"\r\n          density=\"compact\"\r\n        />\r\n\r\n        <v-checkbox\r\n          v-model=\"keepRatio\"\r\n          label=\" \"\r\n          color=\"black\"\r\n          style=\"color: black;\"\r\n          hide-details\r\n        />\r\n\r\n        <v-select\r\n          :items=\"interpolations\"\r\n          item-title=\"label\"\r\n          item-value=\"value\"\r\n          v-model=\"interpolation\"\r\n          label=\"\"\r\n          density=\"compact\"\r\n        >\r\n          <template #append-inner>\r\n            <v-tooltip activator=\"parent\" location=\"end\">\r\n              {{ interpolationHint }}\r\n            </v-tooltip>\r\n          </template>\r\n        </v-select>\r\n      </v-card-text>\r\n\r\n      <v-card-actions>\r\n        <v-spacer />\r\n        <v-btn variant=\"text\" @click=\"close\"></v-btn>\r\n        <v-btn color=\"primary\" @click=\"confirm\"></v-btn>\r\n      </v-card-actions>\r\n    </v-card>\r\n  </v-dialog>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"ResizeComponent\",\r\n\r\n  props: {\r\n    modelValue: Boolean,\r\n    width: Number,\r\n    height: Number\r\n  },\r\n\r\n  emits: [\"update:modelValue\", \"confirm\"],\r\n\r\n  data() {\r\n    return {\r\n      mode: \"\",\r\n      widthValue: 100,\r\n      heightValue: 100,\r\n      keepRatio: true,\r\n      interpolation: \"bilinear\",\r\n      interpolations: [\r\n        {\r\n          label: \"\",\r\n          value: \"bilinear\",\r\n          hint: \" ,  \"\r\n        },\r\n        {\r\n          label: \" \",\r\n          value: \"nearest\",\r\n          hint: \",   \"\r\n        }\r\n      ]\r\n    };\r\n  },\r\n\r\n  computed: {\r\n    open: {\r\n      get() {\r\n        return this.modelValue;\r\n      },\r\n      set(v) {\r\n        this.$emit(\"update:modelValue\", v);\r\n      }\r\n    },\r\n\r\n    mpBefore() {\r\n      return (this.width * this.height / 1e6).toFixed(2);\r\n    },\r\n\r\n    mpAfter() {\r\n      const w = this.newWidth;\r\n      const h = this.newHeight;\r\n      return ((w * h) / 1e6).toFixed(2);\r\n    },\r\n\r\n    newWidth() {\r\n      return this.mode === \"\"\r\n        ? Math.round(this.width * this.widthValue / 100)\r\n        : this.widthValue;\r\n    },\r\n\r\n    newHeight() {\r\n      return this.mode === \"\"\r\n        ? Math.round(this.height * this.heightValue / 100)\r\n        : this.heightValue;\r\n    },\r\n\r\n    interpolationHint() {\r\n      return this.interpolations.find(i => i.value === this.interpolation)?.hint;\r\n    }\r\n  },\r\n\r\n  watch: {\r\n    widthValue(val) {\r\n    if (this.keepRatio && this.width > 0) {\r\n      const ratio = this.height / this.width;\r\n      this.heightValue = Math.round(val * ratio);\r\n    }\r\n  },\r\n\r\n    modelValue(isOpen) {\r\n      if (isOpen) {\r\n        if (this.mode === \"\") {\r\n          this.widthValue = this.width;\r\n          this.heightValue = this.height;\r\n        } else {\r\n          this.widthValue = 100;\r\n          this.heightValue = 100;\r\n        }\r\n      }\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    close() {\r\n      this.open = false;\r\n    },\r\n\r\n    confirm() {\r\n      this.$emit(\"confirm\", {\r\n        width: this.newWidth,\r\n        height: this.newHeight,\r\n        interpolation: this.interpolation\r\n      });\r\n      this.close();\r\n    }\r\n  }\r\n};\r\n</script>\r\n","import { render } from \"./ResizeComponent.vue?vue&type=template&id=c35a2d5e\"\nimport script from \"./ResizeComponent.vue?vue&type=script&lang=js\"\nexport * from \"./ResizeComponent.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <v-card class=\"layer-widget\" elevation=\"10\" width=\"280\">\r\n    <v-tabs v-model=\"tab\" density=\"compact\" color=\"primary\" grow>\r\n      <v-tab value=\"layers\" slider-color=\"primary\"></v-tab>\r\n      <v-tab value=\"alpha\"></v-tab>\r\n    </v-tabs>\r\n\r\n    <v-divider></v-divider>\r\n\r\n    <div class=\"widget-content pa-2\">\r\n      <v-window v-model=\"tab\">\r\n        <v-window-item value=\"layers\">\r\n          <div v-if=\"layers.length === 0\" class=\"text-center text-caption py-4\"> </div>\r\n          \r\n          <div \r\n            v-for=\"(layer, idx) in reversedLayers\" \r\n            :key=\"layer.id\"\r\n            :class=\"['layer-row', { active: (layers.length - 1 - idx) === activeIndex }]\"\r\n            @click=\"$emit('update-active', layers.length - 1 - idx)\"\r\n          >\r\n            <div class=\"d-flex align-center mb-1\">\r\n              <v-btn\r\n                variant=\"text\"\r\n                density=\"comfortable\"\r\n                size=\"small\"\r\n                @click.stop=\"$emit('toggle-visibility', layers.length - 1 - idx)\"\r\n              ><v-img src=\"https://cdn-icons-png.flaticon.com/512/158/158746.png\" width=\"28px\"></v-img>\r\n              </v-btn>\r\n\r\n              <div class=\"preview-mini mx-2\">\r\n                <canvas :ref=\"el => setPreview(el, layer)\" width=\"32\" height=\"32\"></canvas>\r\n              </div>\r\n\r\n              <span class=\"text-caption font-weight-bold flex-grow-1 text-truncate\">\r\n                {{ layer.name }}\r\n              </span>\r\n\r\n              <v-btn\r\n                variant=\"text\"\r\n                color=\"error\"\r\n                density=\"comfortable\"\r\n                size=\"small\"\r\n                @click.stop=\"$emit('remove-layer', layers.length - 1 - idx)\"\r\n              >\r\n                <v-img src=\"https://cdn-icons-png.flaticon.com/512/4225/4225690.png\" width=\"28px\"></v-img>\r\n              </v-btn>\r\n            </div>\r\n\r\n            <v-expand-transition>\r\n              <div v-if=\"(layers.length - 1 - idx) === activeIndex\" class=\"layer-controls px-1\">\r\n                <v-select\r\n                  :model-value=\"layer.blendMode\"\r\n                  :items=\"blendModes\"\r\n                  label=\"\"\r\n                  density=\"compact\"\r\n                  variant=\"outlined\"\r\n                  hide-details\r\n                  class=\"mb-2\"\r\n                  @update:model-value=\"m => updateBlend(layers.length - 1 - idx, m)\"\r\n                >\r\n                  <template #item=\"{ props, item }\">\r\n                    <v-list-item v-bind=\"props\">\r\n                      <template #append>\r\n                        <v-tooltip :text=\"item.raw.desc\" location=\"left\">\r\n                          <template #activator=\"{ props }\">\r\n                            <v-icon v-bind=\"props\" size=\"x-small\" class=\"ml-2\"></v-icon>\r\n                          </template>\r\n                        </v-tooltip>\r\n                      </template>\r\n                    </v-list-item>\r\n                  </template>\r\n                </v-select>\r\n\r\n                <div class=\"d-flex align-center\">\r\n                  <v-icon size=\"x-small\" class=\"mr-2\"></v-icon>\r\n                  <v-slider\r\n                    :model-value=\"layer.opacity\"\r\n                    min=\"0\" max=\"100\" step=\"1\"\r\n                    hide-details\r\n                    density=\"compact\"\r\n                    color=\"primary\"\r\n                    @update:model-value=\"v => updateOpacity(layers.length - 1 - idx, v)\"\r\n                  ></v-slider>\r\n                  <span class=\"text-micro ml-2\">{{ layer.opacity }}%</span>\r\n                </div>\r\n              </div>\r\n            </v-expand-transition>\r\n          </div>\r\n        </v-window-item>\r\n\r\n        <v-window-item value=\"alpha\">\r\n          <div v-for=\"(layer, idx) in reversedLayers\" :key=\"'alpha-'+layer.id\" class=\"alpha-row pa-1\">\r\n            <div class=\"text-micro text-uppercase text-grey-darken-1 mb-1\">{{ layer.name }}</div>\r\n            <div v-if=\"layer.hasAlpha\" class=\"d-flex align-center\">\r\n              <div class=\"preview-mini alpha mr-2\">\r\n                <canvas :ref=\"el => setAlphaPreview(el, layer)\" width=\"32\" height=\"32\"></canvas>\r\n              </div>\r\n              <span class=\"text-caption flex-grow-1\">-</span>\r\n              <v-btn\r\n                variant=\"text\"\r\n                size=\"small\"\r\n                color=\"primary\"\r\n                title=\" -\"\r\n                @click=\"$emit('open-alpha-curves', layers.length - 1 - idx)\"\r\n              ><v-img src=\"https://cdn-icons-png.flaticon.com/512/876/876174.png\" width=\"22px\"></v-img></v-btn>\r\n              <v-btn\r\n                variant=\"text\"\r\n                size=\"small\"\r\n                @click.stop=\"$emit('toggle-alpha', layers.length - 1 - idx)\"\r\n              ><v-img src=\"https://cdn-icons-png.flaticon.com/512/3747/3747167.png\" width=\"22px\"></v-img></v-btn>\r\n              <v-btn\r\n                variant=\"text\"\r\n                color=\"error\"\r\n                size=\"small\"\r\n                @click.stop=\"$emit('remove-alpha', layers.length - 1 - idx)\"\r\n              ><v-img src=\"https://cdn-icons-png.flaticon.com/512/484/484662.png\" width=\"22px\"></v-img></v-btn>\r\n            </div>\r\n            <div v-else class=\"text-caption text-grey italic\"> -</div>\r\n            <v-divider class=\"my-1\"></v-divider>\r\n          </div>\r\n        </v-window-item>\r\n      </v-window>\r\n    </div>\r\n  </v-card>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: ['layers', 'activeIndex'],\r\n  data: () => ({\r\n    tab: 'layers',\r\n    blendModes: [\r\n      { title: '', value: 'normal', desc: '    .' },\r\n      { title: '', value: 'multiply', desc: ' ,   .   .' },\r\n      { title: '', value: 'screen', desc: ' .   .' },\r\n      { title: '', value: 'overlay', desc: '        .' }\r\n    ]\r\n  }),\r\n  computed: {\r\n    reversedLayers() { return [...this.layers].reverse(); }\r\n  },\r\n  methods: {\r\n    setPreview(canvas, layer) {\r\n      if (!canvas) return;\r\n      const ctx = canvas.getContext('2d');\r\n      const tempImg = new ImageData(new Uint8ClampedArray(layer.pixels), layer.width, layer.height);\r\n      const off = document.createElement('canvas');\r\n      off.width = layer.width; off.height = layer.height;\r\n      off.getContext('2d').putImageData(tempImg, 0, 0);\r\n      ctx.clearRect(0, 0, 32, 32);\r\n      ctx.drawImage(off, 0, 0, 32, 32);\r\n    },\r\n    setAlphaPreview(canvas, layer) {\r\n      if (!canvas) return;\r\n      const ctx = canvas.getContext('2d');\r\n      const alphaArr = new Uint8ClampedArray(layer.pixels.length);\r\n      for(let i=0; i<layer.pixels.length; i+=4) {\r\n        const a = layer.pixels[i+3];\r\n        alphaArr[i] = alphaArr[i+1] = alphaArr[i+2] = a;\r\n        alphaArr[i+3] = 255;\r\n      }\r\n      const tempImg = new ImageData(alphaArr, layer.width, layer.height);\r\n      const off = document.createElement('canvas');\r\n      off.width = layer.width; off.height = layer.height;\r\n      off.getContext('2d').putImageData(tempImg, 0, 0);\r\n      ctx.drawImage(off, 0, 0, 32, 32);\r\n    },\r\n    updateOpacity(idx, val) { this.$emit('update-opacity', {idx, val}); },\r\n    updateBlend(idx, mode) { this.$emit('update-blend', {idx, mode}); }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.layer-widget {\r\n  position: absolute;\r\n  top: 80px;\r\n  right: 20px;\r\n  z-index: 100;\r\n  background: rgba(255, 255, 255, 0.9) !important;\r\n  backdrop-filter: blur(4px);\r\n  border: 1px solid rgba(0,0,0,0.1);\r\n  border-radius: 8px;\r\n}\r\n.widget-content {\r\n  max-height: 400px;\r\n  overflow-y: auto;\r\n}\r\n.layer-row {\r\n  border-radius: 4px;\r\n  margin-bottom: 4px;\r\n  padding: 4px;\r\n  border: 1px solid transparent;\r\n  cursor: pointer;\r\n  transition: all 0.2s;\r\n}\r\n.layer-row:hover { background: rgba(0,0,0,0.03); }\r\n.layer-row.active {\r\n  background: white;\r\n  border-color: #1976d2;\r\n  box-shadow: 0 2px 4px rgba(0,0,0,0.1);\r\n}\r\n.preview-mini {\r\n  width: 32px;\r\n  height: 32px;\r\n  background: #eee;\r\n  border: 1px solid #ccc;\r\n  border-radius: 2px;\r\n  overflow: hidden;\r\n}\r\n.preview-mini.alpha { background: black; }\r\n.text-micro { font-size: 10px; line-height: 1; }\r\n</style>","import { render } from \"./LayersComponent.vue?vue&type=template&id=fb5dc232&scoped=true\"\nimport script from \"./LayersComponent.vue?vue&type=script&lang=js\"\nexport * from \"./LayersComponent.vue?vue&type=script&lang=js\"\n\nimport \"./LayersComponent.vue?vue&type=style&index=0&id=fb5dc232&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-fb5dc232\"]])\n\nexport default __exports__","<template>\r\n  <v-dialog :model-value=\"modelValue\" @update:model-value=\"$emit('update:modelValue', $event)\" max-width=\"600px\" persistent>\r\n    <v-card>\r\n      <v-card-title class=\"d-flex justify-space-between align-center\">\r\n          ()\r\n        <v-btn icon=\"mdi-close\" variant=\"text\" @click=\"close\"></v-btn>\r\n      </v-card-title>\r\n      \r\n      <v-card-text>\r\n        <v-row>\r\n          <v-col cols=\"12\" md=\"7\">\r\n            <div class=\"graph-container\">\r\n              <svg viewBox=\"0 0 256 256\" class=\"curves-svg\">\r\n                <line x1=\"64\" y1=\"0\" x2=\"64\" y2=\"256\" stroke=\"#ddd\" stroke-dasharray=\"4\"/>\r\n                <line x1=\"128\" y1=\"0\" x2=\"128\" y2=\"256\" stroke=\"#ddd\" stroke-dasharray=\"4\"/>\r\n                <line x1=\"192\" y1=\"0\" x2=\"192\" y2=\"256\" stroke=\"#ddd\" stroke-dasharray=\"4\"/>\r\n                <line x1=\"0\" y1=\"64\" x2=\"256\" y2=\"64\" stroke=\"#ddd\" stroke-dasharray=\"4\"/>\r\n                <line x1=\"0\" y1=\"128\" x2=\"256\" y2=\"128\" stroke=\"#ddd\" stroke-dasharray=\"4\"/>\r\n                <line x1=\"0\" y1=\"192\" x2=\"256\" y2=\"192\" stroke=\"#ddd\" stroke-dasharray=\"4\"/>\r\n\r\n                <template v-if=\"!isAlphaMode\">\r\n                  <polyline :points=\"getHistogramPoints('r')\" fill=\"none\" stroke=\"rgba(255,0,0,0.5)\" stroke-width=\"1\" />\r\n                  <polyline :points=\"getHistogramPoints('g')\" fill=\"none\" stroke=\"rgba(0,255,0,0.5)\" stroke-width=\"1\" />\r\n                  <polyline :points=\"getHistogramPoints('b')\" fill=\"none\" stroke=\"rgba(0,0,255,0.5)\" stroke-width=\"1\" />\r\n                </template>\r\n                <polyline v-else :points=\"getHistogramPoints('a')\" fill=\"none\" stroke=\"rgba(128,128,128,0.8)\" stroke-width=\"1\" />\r\n\r\n                <g class=\"curve-line\" stroke=\"#1976D2\" stroke-width=\"2\" fill=\"none\">\r\n                  <line :x1=\"0\" :y1=\"256 - p1.y\" :x2=\"p1.x\" :y2=\"256 - p1.y\" />\r\n                  <line :x1=\"p1.x\" :y1=\"256 - p1.y\" :x2=\"p2.x\" :y2=\"256 - p2.y\" />\r\n                  <line :x1=\"p2.x\" :y1=\"256 - p2.y\" :x2=\"256\" :y2=\"256 - p2.y\" />\r\n                </g>\r\n\r\n                <circle :cx=\"p1.x\" :cy=\"256 - p1.y\" r=\"4\" fill=\"#1976D2\" />\r\n                <circle :cx=\"p2.x\" :cy=\"256 - p2.y\" r=\"4\" fill=\"#1976D2\" />\r\n              </svg>\r\n            </div>\r\n          </v-col>\r\n\r\n          <v-col cols=\"12\" md=\"5\">\r\n            <div class=\"text-subtitle-2 mb-2\"> 1 (; )</div>\r\n            <div class=\"d-flex gap-2 mb-4\">\r\n              <v-text-field v-model.number=\"p1.x\" label=\"In 1\" type=\"number\" density=\"compact\" hide-details min=\"0\" max=\"255\"></v-text-field>\r\n              <v-text-field v-model.number=\"p1.y\" label=\"Out 1\" type=\"number\" density=\"compact\" hide-details min=\"0\" max=\"255\"></v-text-field>\r\n            </div>\r\n\r\n            <div class=\"text-subtitle-2 mb-2\"> 2 (; )</div>\r\n            <div class=\"d-flex gap-2 mb-4\">\r\n              <v-text-field v-model.number=\"p2.x\" label=\"In 2\" type=\"number\" density=\"compact\" hide-details min=\"0\" max=\"255\"></v-text-field>\r\n              <v-text-field v-model.number=\"p2.y\" label=\"Out 2\" type=\"number\" density=\"compact\" hide-details min=\"0\" max=\"255\"></v-text-field>\r\n            </div>\r\n\r\n            <v-checkbox v-model=\"preview\" label=\"\" density=\"compact\" hide-details></v-checkbox>\r\n          </v-col>\r\n        </v-row>\r\n      </v-card-text>\r\n\r\n      <v-divider></v-divider>\r\n      <v-card-actions>\r\n        <v-btn color=\"grey\" variant=\"text\" @click=\"reset\"></v-btn>\r\n        <v-spacer></v-spacer>\r\n        <v-btn color=\"primary\" @click=\"apply\"></v-btn>\r\n      </v-card-actions>\r\n    </v-card>\r\n  </v-dialog>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: {\r\n    modelValue: Boolean,\r\n    layer: Object,\r\n    isAlphaMode: Boolean //   -  true\r\n  },\r\n  data() {\r\n    return {\r\n      p1: { x: 0, y: 0 },\r\n      p2: { x: 255, y: 255 },\r\n      preview: false,\r\n      histograms: { r: [], g: [], b: [], a: [] }\r\n    };\r\n  },\r\n  watch: {\r\n    modelValue(val) {\r\n      if (val) {\r\n        this.calculateHistogram();\r\n        this.reset();\r\n      }\r\n    },\r\n    //      \r\n    lut: {\r\n      handler(newLut) {\r\n        if (this.preview) this.$emit('preview', newLut);\r\n      },\r\n      deep: true\r\n    },\r\n    preview(val) {\r\n      if (!val) this.$emit('preview', null); //  \r\n      else this.$emit('preview', this.lut);\r\n    }\r\n  },\r\n  computed: {\r\n    lut() {\r\n      const table = new Uint8ClampedArray(256);\r\n      const { x: x1, y: y1 } = this.p1;\r\n      const { x: x2, y: y2 } = this.p2;\r\n\r\n      for (let i = 0; i < 256; i++) {\r\n        if (i <= x1) {\r\n          table[i] = y1;\r\n        } else if (i >= x2) {\r\n          table[i] = y2;\r\n        } else {\r\n          //    \r\n          table[i] = y1 + (i - x1) * (y2 - y1) / (x2 - x1);\r\n        }\r\n      }\r\n      return table;\r\n    }\r\n  },\r\n  methods: {\r\n    calculateHistogram() {\r\n      if (!this.layer) return;\r\n      const r = new Array(256).fill(0);\r\n      const g = new Array(256).fill(0);\r\n      const b = new Array(256).fill(0);\r\n      const a = new Array(256).fill(0);\r\n      \r\n      const data = this.layer.pixels;\r\n      for (let i = 0; i < data.length; i += 4) {\r\n        r[data[i]]++;\r\n        g[data[i+1]]++;\r\n        b[data[i+2]]++;\r\n        a[data[i+3]]++;\r\n      }\r\n      \r\n      this.histograms = { r, g, b, a };\r\n    },\r\n\r\n    getHistogramPoints(channel) {\r\n      const data = this.histograms[channel];\r\n      if (!data.length) return \"\";\r\n      const max = Math.max(...data);\r\n      return data.map((val, i) => `${i},${256 - (val / max * 256)}`).join(' ');\r\n    },\r\n    \r\n    reset() {\r\n      this.p1 = { x: 0, y: 0 };\r\n      this.p2 = { x: 255, y: 255 };\r\n    },\r\n    close() {\r\n      this.$emit('preview', null);\r\n      this.$emit('update:modelValue', false);\r\n    },\r\n    apply() {\r\n      this.$emit('confirm', { lut: this.lut, isAlpha: this.isAlphaMode });\r\n      this.close();\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.graph-container {\r\n  background: #222;\r\n  border: 1px solid #444;\r\n  width: 256px;\r\n  height: 256px;\r\n  margin: 0 auto;\r\n}\r\n.curves-svg {\r\n  width: 100%;\r\n  height: 100%;\r\n  display: block;\r\n}\r\n.gap-2 { gap: 8px; }\r\n</style>","import { render } from \"./CurvesDialog.vue?vue&type=template&id=f4231c32&scoped=true\"\nimport script from \"./CurvesDialog.vue?vue&type=script&lang=js\"\nexport * from \"./CurvesDialog.vue?vue&type=script&lang=js\"\n\nimport \"./CurvesDialog.vue?vue&type=style&index=0&id=f4231c32&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-f4231c32\"]])\n\nexport default __exports__","<template>\r\n  <v-dialog v-model=\"visible\" :model-value=\"modelValue\" @update:model-value=\"$emit('update:modelValue', $event)\" max-width=\"500px\" persistent>\r\n    <v-card color=\"#1e1e1e\" class=\"text-white\">\r\n      <v-card-title class=\"d-flex justify-space-between align-center\">\r\n        <span> </span>\r\n        <v-btn icon=\"mdi-close\" variant=\"text\" @click=\"close\"></v-btn>\r\n      </v-card-title>\r\n\r\n      <v-card-text>\r\n        <v-select\r\n          v-model=\"selectedPreset\"\r\n          :items=\"presetOptions\"\r\n          label=\" \"\r\n          variant=\"outlined\"\r\n          @update:model-value=\"applyPreset\"\r\n        ></v-select>\r\n\r\n        <div class=\"kernel-grid my-4\">\r\n          <v-text-field\r\n            v-for=\"(val, idx) in kernel\"\r\n            :key=\"idx\"\r\n            v-model.number=\"kernel[idx]\"\r\n            type=\"number\"\r\n            variant=\"solo\"\r\n            density=\"compact\"\r\n            hide-details\r\n            class=\"kernel-input\"\r\n            @input=\"onInput\"\r\n          ></v-text-field>\r\n        </div>\r\n\r\n        <v-checkbox\r\n          v-model=\"preview\"\r\n          label=\" \"\r\n          hide-details\r\n          @change=\"onInput\"\r\n        ></v-checkbox>\r\n      </v-card-text>\r\n\r\n      <v-card-actions>\r\n        <v-btn color=\"error\" variant=\"text\" @click=\"reset\"></v-btn>\r\n        <v-spacer></v-spacer>\r\n        <v-btn variant=\"text\" @click=\"close\"></v-btn>\r\n        <v-btn color=\"primary\" variant=\"elevated\" @click=\"apply\"></v-btn>\r\n      </v-card-actions>\r\n    </v-card>\r\n  </v-dialog>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data: () => ({\r\n    visible: false,\r\n    preview: false,\r\n    selectedPreset: '',\r\n    kernel: [0, 0, 0, 0, 1, 0, 0, 0, 0],\r\n    originalPixels: null,\r\n    presetOptions: [\r\n      '', '', ' (3x3)', \r\n      ' ', ' X', ' Y'\r\n    ],\r\n\r\n    presets: {\r\n      '': [0, 0, 0, 0, 1, 0, 0, 0, 0],\r\n      '': [0, -1, 0, -1, 5, -1, 0, -1, 0],\r\n      ' (3x3)': [0.06, 0.15, 0.06, 0.15, 0.25, 0.15, 0.06, 0.15, 0.06],\r\n      ' ': Array(9).fill(1/9),\r\n      ' X': [-1, 0, 1, -1, 0, 1, -1, 0, 1],\r\n      ' Y': [-1, -1, -1, 0, 0, 0, 1, 1, 1]\r\n    }\r\n  }),\r\n\r\n  props: {\r\n    modelValue: Boolean,\r\n    activeLayer: Object\r\n  },\r\n\r\n  emits: ['update:modelValue', 'apply', 'preview', 'restore'],\r\n\r\n  methods: {\r\n    open(pixels) {\r\n      this.originalPixels = new Uint8ClampedArray(pixels);\r\n      this.visible = true;\r\n      this.reset();\r\n    },\r\n\r\n    applyPreset() {\r\n      this.kernel = [...this.presets[this.selectedPreset]];\r\n      this.onInput();\r\n    },\r\n\r\n    onInput() {\r\n      if (this.preview) {\r\n        this.$emit('preview', this.kernel);\r\n      } else {\r\n        this.$emit('restore');\r\n      }\r\n    },\r\n\r\n    reset() {\r\n      this.selectedPreset = '';\r\n      this.kernel = [...this.presets['']];\r\n      this.onInput();\r\n    },\r\n\r\n    close() {\r\n      this.$emit('restore');\r\n      this.$emit('update:modelValue', false);\r\n    },\r\n\r\n    apply() {\r\n      this.$emit('apply', [...this.kernel]);\r\n      this.$emit('update:modelValue', false);\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.kernel-grid {\r\n  display: grid;\r\n  grid-template-columns: repeat(3, 1fr);\r\n  gap: 10px;\r\n  max-width: 300px;\r\n  margin: 0 auto;\r\n}\r\n.kernel-input :deep(input) {\r\n  text-align: center;\r\n}\r\n</style>","import { render } from \"./KernelDialog.vue?vue&type=template&id=0267d0de&scoped=true\"\nimport script from \"./KernelDialog.vue?vue&type=script&lang=js\"\nexport * from \"./KernelDialog.vue?vue&type=script&lang=js\"\n\nimport \"./KernelDialog.vue?vue&type=style&index=0&id=0267d0de&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-0267d0de\"]])\n\nexport default __exports__","import { render } from \"./App.vue?vue&type=template&id=4d4414fc&scoped=true\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=4d4414fc&scoped=true&lang=css\"\n\nimport exportComponent from \"../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-4d4414fc\"]])\n\nexport default __exports__","import { createApp } from 'vue'\nimport App from './App.vue'\n\nimport 'vuetify/styles'\nimport { createVuetify } from 'vuetify'\nimport * as components from 'vuetify/components'\nimport * as directives from 'vuetify/directives'\nimport { aliases, mdi } from \"vuetify/iconsets/mdi-svg\"\n\nconst vuetify = createVuetify({\n    components,\n    directives,\n    icons: {\n        defaultSet: \"mdi\",\n        aliases,\n        sets: {\n        mdi,\n        },\n    },\n})\n\ncreateApp(App).use(vuetify).mount('#app')","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t524: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkphotoshop\"] = self[\"webpackChunkphotoshop\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [504], function() { return __webpack_require__(4152); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["class","_createBlock","_component_v_app","_createVNode","_component_MenuComponent","$data","scalePercent","activeTool","layers","length","onImageLoaded","$options","onLayerAdded","onScaleChanged","onOpenResize","_cache","$event","showResize","onToolChanged","onAddColorLayer","onColorLayerAdded","onOpenCurves","openCurves","onExport","handleExport","layersCount","activeLayerIndex","onOpenKernelDialog","showKernel","_component_ResizeComponent","width","height","onConfirm","applyResize","_component_CanvasComponent","ref","imageSrc","onPickColor","tempLut","curvesAlphaMode","_component_LayersComponent","onUpdateActive","onToggleVisibility","toggleVisibility","onToggleAlpha","toggleAlpha","onRemoveLayer","removeLayer","onRemoveAlpha","removeAlpha","onUpdateOpacity","updateOpacity","onUpdateBlend","updateBlend","onOpenAlphaCurves","_component_KernelDialog","onApply","onKernelApply","onPreview","onKernelPreview","onRestore","onKernelRestore","_component_CurvesDialog","showCurves","layer","handleCurvesPreview","applyCurves","_component_v_footer","app","color","statusText","colorA","_createElementBlock","_hoisted_1","_createElementVNode","style","_normalizeStyle","background","rgbString","title","_hoisted_2","_toDisplayString","x","y","_hoisted_3","_Fragment","_renderList","space","_component_v_tooltip","location","offset","activator","_withCtx","props","_mergeProps","ref_for","_hoisted_4","getSpaceValues","_hoisted_5","spaceInfo","axes","colorB","_hoisted_6","_component_v_chip","size","contrastValue","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_component_v_app_bar","_component_v_toolbar_title","_component_v_btn","variant","disabled","isSingleLayerSelected","onClick","_ctx","$emit","_component_v_menu","transition","$props","_component_v_list","density","_component_v_list_item","_component_v_list_item_title","_component_v_divider","canAddLayer","triggerFileInput","key","r","g","b","_component_v_color_picker","onColorSelect","text","icon","_component_v_img","src","_component_v_select","items","scales","currentScale","label","onScaleChange","type","accept","hidden","onChange","args","onFileChange","name","emits","data","computed","this","mounted","window","addEventListener","e","toLowerCase","setTool","beforeUnmount","removeEventListener","onKeyDown","watch","val","methods","onExportClick","format","rgba","tool","$refs","fileInput","click","value","Number","event","file","target","files","ext","split","pop","includes","reader","FileReader","onload","img","Image","result","depth","screen","colorDepth","readAsDataURL","buffer","arrayBuffer","DataView","getUint8","alert","flag","getUint16","pixels","Uint8ClampedArray","ptr","i","byte","gray","mask","v","__exports__","onMousedown","onMouseDown","onMousemove","onMouseMove","onMouseup","onMouseUp","onMouseleave","canvasStyle","Object","String","Array","default","activeLut","lutTarget","originalPixels","originalWidth","originalHeight","scale","ctx","imageData","offsetX","offsetY","isDragging","lastMouseX","lastMouseY","viewPadding","transform","cursor","newVal","loadStandardImage","loadGB7","redraw","handler","newLayers","fitToScreen","deep","off","document","createElement","getContext","drawImage","getImageData","resetPosition","constrainOffset","container","canvas","cw","clientWidth","ch","clientHeight","vw","vh","limitX","limitY","Math","max","min","clientX","clientY","dx","dy","newPos","step","shiftKey","preventDefault","baseLayer","maxW","maxH","round","base","dstW","dstH","willReadFrequently","finalPixels","forEach","index","visible","pixelsToDraw","activeIndex","scaledLayer","bilinear","op","opacity","alpha","alphaVisible","blendLayers","ImageData","putImageData","top","a1","r2","g2","b2","a2","r1","g1","b1","rd","gd","bd","br","tr","bg","tg","bb","tb","blendMode","ov","t","outA","runResizeAlgo","sw","sh","dw","dh","method","nearest","dst","gx","gy","x0","floor","y0","x1","y1","c","i00","i10","i01","i11","sx","sy","sIdx","dIdx","resizeImage","newW","newH","algo","rect","getBoundingClientRect","left","isSecondColor","altKey","ctrlKey","slot","console","log","_component_v_dialog","open","_component_v_card","_component_v_card_title","_component_v_card_text","mpBefore","mpAfter","mode","_component_v_text_field","widthValue","number","heightValue","_component_v_checkbox","keepRatio","interpolations","interpolation","interpolationHint","_component_v_card_actions","_component_v_spacer","close","confirm","modelValue","Boolean","hint","get","set","toFixed","w","newWidth","h","newHeight","find","ratio","isOpen","elevation","_component_v_tabs","tab","grow","_component_v_tab","_component_v_window","_component_v_window_item","reversedLayers","idx","id","_normalizeClass","active","_withModifiers","el","setPreview","_component_v_expand_transition","blendModes","m","item","append","raw","desc","_component_v_icon","_component_v_slider","hasAlpha","_hoisted_12","setAlphaPreview","_hoisted_13","reverse","tempImg","clearRect","alphaArr","a","viewBox","stroke","fill","persistent","_component_v_row","_component_v_col","cols","md","x2","y2","isAlphaMode","points","getHistogramPoints","p1","p2","cx","cy","_hoisted_14","preview","reset","apply","histograms","calculateHistogram","lut","newLut","table","channel","map","join","isAlpha","selectedPreset","applyPreset","presetOptions","kernel","onInput","presets","activeLayer","components","MenuComponent","CanvasComponent","ResizeComponent","LayersComponent","CurvesDialog","KernelDialog","RGB","XYZ","Lab","OKLch","kernelAlphaMode","calculateContrast","handleGlobalKeyDown","newLayer","Date","now","extractPixels","push","splice","resizedPixels","$nextTick","getL","pow","l1","l2","rn","gn","bn","toLin","rl","gl","bl","z","f","L","b_coord","chroma","sqrt","hue","atan2","PI","warn","newPixels","finalCanvas","renderStack","tempCanvas","tempCtx","imgData","save","undefined","globalAlpha","globalCompositeOperation","targetX","targetY","targetWidth","displayWidth","targetHeight","displayHeight","restore","finalImageData","saveGB7","saveStandard","rgbaPixels","header","ArrayBuffer","view","setUint8","setUint16","gb7Pixels","Uint8Array","gray7bit","blob","Blob","download","mime","toBlob","filename","url","URL","createObjectURL","link","href","revokeObjectURL","applyConvolution","getPixel","ix","iy","ky","kx","weight","tempBackup","render","vuetify","createVuetify","directives","icons","defaultSet","aliases","sets","mdi","createApp","App","use","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","call","deferred","O","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","keys","every","n","getter","__esModule","d","definition","o","defineProperty","enumerable","globalThis","Function","obj","prop","prototype","hasOwnProperty","Symbol","toStringTag","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","bind","__webpack_exports__"],"sourceRoot":""}